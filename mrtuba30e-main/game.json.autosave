{"firstLayout":"","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"folderProject":true,"orientation":"landscape","packageName":"com.ahnaf30e.mrtuba30e","pixelsRounding":false,"projectUuid":"69d129ef-3817-4bfa-8286-89077c0eecb1","scaleMode":"nearest","sizeOnStartupMode":"","templateSlug":"","useExternalSourceFiles":false,"version":"1.0.0","name":"Mrtuba30e","description":"","author":"","windowWidth":960,"windowHeight":540,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.2,"minDuration":1.5,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"watermark":{"placement":"bottom-left","showWatermark":true},"authorIds":["onPsboRtDkUHNOsx7OPr8R8G1oj2","uCK6jKuccsVsF8AG20f3bBFWK4o2"],"authorUsernames":["Ahnaf30e","Mrtubagames"],"categories":[],"playableDevices":[],"extensionProperties":[],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"alwaysLoaded":false,"file":"assets/Transparent Button With White Blue Border_Hovered.png","kind":"image","metadata":"","name":"Transparent Button With White Blue Border_Hovered.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/6d8e529f898d0d1cfc8e94ba10ae0a01e0a31b08bc0d11ec35074a34f3485f55_Transparent Button With White Blue Border_Hovered.png","name":"Transparent Button With White Blue Border_Hovered.png"}},{"alwaysLoaded":false,"file":"assets/Transparent Button With White Blue Border_Idle.png","kind":"image","metadata":"","name":"Transparent Button With White Blue Border_Idle.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/7311d88d62c25c9a5e7ed4f2031f4d58fabe564e093b203e62e467a1a995ed32_Transparent Button With White Blue Border_Idle.png","name":"Transparent Button With White Blue Border_Idle.png"}},{"alwaysLoaded":false,"file":"assets/Transparent Button With White Blue Border_Pressed.png","kind":"image","metadata":"","name":"Transparent Button With White Blue Border_Pressed.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/c18e2e342a2cce350f068208df2b7f5549dc600d2201609b1d3d76c497fffd30_Transparent Button With White Blue Border_Pressed.png","name":"Transparent Button With White Blue Border_Pressed.png"}},{"file":"assets/Kenney Mini Square.ttf","kind":"font","metadata":"","name":"Kenney Mini Square.ttf","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/5e2e3fcc57885d5e510934e621be5f8dd7a5b6425cf46ef38073e3d2c3b04048_Kenney Mini Square.ttf","name":"Kenney Mini Square.ttf"}},{"file":"Minecraft.ttf","kind":"font","metadata":"","name":"Minecraft.ttf","userAdded":true},{"file":"MinecraftTen.ttf","kind":"font","metadata":"","name":"MinecraftTen.ttf","userAdded":true},{"alwaysLoaded":false,"file":"assets/PlayerBox.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"PlayerBox","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"assets/WallBox.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"WallBox","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Enemy_BackForth_Devart.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"Enemy_BackForth_Devart","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Boss_Devart.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"Boss_Devart","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"assets/Gun_devart.png","kind":"image","metadata":"{\"extension\":\".png\",\"localFilePath\":\"assets/Gun_devart.png\"}","name":"Gun_devart","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_idle1.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_idle1.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_idle2.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_idle2.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_idle3.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_idle3.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_idle4.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_idle4.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/NewSprite.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"NewSprite","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift.png","kind":"image","metadata":"","name":"assets\\lift.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door1.png","kind":"image","metadata":"","name":"assets\\lift_door1.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door2.png","kind":"image","metadata":"","name":"assets\\lift_door2.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door3.png","kind":"image","metadata":"","name":"assets\\lift_door3.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door4.png","kind":"image","metadata":"","name":"assets\\lift_door4.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door5.png","kind":"image","metadata":"","name":"assets\\lift_door5.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door6.png","kind":"image","metadata":"","name":"assets\\lift_door6.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/lift_door7.png","kind":"image","metadata":"","name":"assets\\lift_door7.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run1.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run1.png","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run2.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run2.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run3.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run3.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run4.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run4.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run5.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run5.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run6.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run6.png","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"assets/entities/player/bobzibub_run7.png","kind":"image","metadata":"","name":"assets\\entities\\player\\bobzibub_run7.png","smoothed":false,"userAdded":false},{"alwaysLoaded":false,"file":"assets/wallStone.png","kind":"image","metadata":"","name":"assets\\wallStone.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/e_pop.png","kind":"image","metadata":"","name":"assets\\e_pop.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/shotgun.png","kind":"image","metadata":"","name":"assets\\shotgun.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/empty.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"empty","smoothed":false,"userAdded":false}],"resourceFolders":[]},"objects":[{"assetStoreId":"","name":"player","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"RemapForTopdown","type":"BehaviorRemapper::RemapForTopdown","Up":"w","Left":"a","Right":"d","Down":"s","Topdown":"TopDownMovement"},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera","LeftwardSpeed":0.9,"RightwardSpeed":0.9,"UpwardSpeed":0.9,"DownwardSpeed":0.9,"FollowOnX":true,"FollowOnY":true,"FollowFreeAreaLeft":0.0,"FollowFreeAreaRight":0.0,"FollowFreeAreaTop":0.0,"FollowFreeAreaBottom":0.0,"CameraOffsetX":0.0,"CameraOffsetY":0.0,"CameraDelay":0.0,"ForecastTime":0.0,"ForecastHistoryDuration":0.0,"LogLeftwardSpeed":0.0,"LogRightwardSpeed":0.0,"LogDownwardSpeed":0.0,"LogUpwardSpeed":0.0,"DelayedCenterX":0.0,"DelayedCenterY":0.0,"ForecastHistoryMeanX":0.0,"ForecastHistoryMeanY":0.0,"ForecastHistoryVarianceX":0.0,"ForecastHistoryCovariance":0.0,"ForecastHistoryLinearA":0.0,"ForecastHistoryLinearB":0.0,"ForecastedX":0.0,"ForecastedY":0.0,"ProjectedNewestX":0.0,"ProjectedNewestY":0.0,"ProjectedOldestX":0.0,"ProjectedOldestY":0.0,"ForecastHistoryVarianceY":0.0,"Index":0.0,"CameraDelayCatchUpSpeed":0.0,"CameraExtraDelay":0.0,"WaitingSpeedXMax":0.0,"WaitingSpeedYMax":0.0,"WaitingEnd":0.0,"CameraDelayCatchUpDuration":0.0,"LeftwardSpeedMax":9000.0,"RightwardSpeedMax":9000.0,"UpwardSpeedMax":9000.0,"DownwardSpeedMax":9000.0,"OldX":9000.0,"OldY":9000.0,"IsCalledManually":false},{"acceleration":3500.0,"deceleration":3500.0,"maxSpeed":300.0,"name":"TopDownMovement","type":"TopDownMovementBehavior::TopDownMovementBehavior","allowDiagonals":true,"angleOffset":0.0,"angularMaxSpeed":180.0,"customIsometryAngle":30.0,"ignoreDefaultControls":true,"movementAngleOffset":0.0,"rotateObject":false,"viewpoint":"TopDown"}],"animations":[{"name":"PlayerBox","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"PlayerBox","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"WallBox","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"WallBox","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"WallBox","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"Enemy_BackForth","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[{"folded":true,"name":"Mode","type":"boolean","value":false},{"folded":true,"name":"Speed","type":"string","value":""}],"effects":[],"behaviors":[],"animations":[{"name":"Enemy_BackForth_Devart","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Enemy_BackForth_Devart","points":[{"name":"WallCheckHoriz","x":36.0,"y":16.0},{"name":"WallCheckVert","x":16.0,"y":-6.0}],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"item","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"empty","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"empty","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]},{"name":"shotgun","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"assets\\shotgun.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"liftDoor","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"close","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.03,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\lift_door6.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door5.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door4.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door3.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door2.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door1.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]}]}]},{"name":"open","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.05,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\lift_door1.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door2.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door3.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door4.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door5.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\lift_door6.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":16.0},{"x":64.0,"y":16.0},{"x":64.0,"y":32.0},{"x":0.0,"y":32.0}]]}]}]}]},{"assetStoreId":"","name":"lift","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"assets\\lift.png","points":[{"name":"Elevator","x":16.0,"y":0.0}],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"bob","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"idle","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.15,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\entities\\player\\bobzibub_idle1.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":19.0,"y":22.0},{"x":19.0,"y":31.0},{"x":9.0,"y":31.0},{"x":9.0,"y":22.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\entities\\player\\bobzibub_idle2.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":19.0,"y":22.0},{"x":19.0,"y":31.0},{"x":9.0,"y":31.0},{"x":9.0,"y":22.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\entities\\player\\bobzibub_idle3.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":19.0,"y":22.0},{"x":19.0,"y":31.0},{"x":9.0,"y":31.0},{"x":9.0,"y":22.0}]]},{"hasCustomCollisionMask":true,"image":"assets\\entities\\player\\bobzibub_idle4.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":19.0,"y":22.0},{"x":19.0,"y":31.0},{"x":9.0,"y":31.0},{"x":9.0,"y":22.0}]]}]}]},{"name":"run","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run1.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]},{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run2.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]},{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run3.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]},{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run4.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]},{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run5.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]},{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run6.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]},{"hasCustomCollisionMask":false,"image":"assets\\entities\\player\\bobzibub_run7.png","points":[],"originPoint":{"name":"origine","x":16.0,"y":16.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"camZone","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"NewSprite","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"NewSprite","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"assetStoreId":"","name":"levelShower","tags":"","type":"BBText::BBText","variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}],"content":{"text":"Level","opacity":255,"fontSize":32,"visible":true,"color":"247;238;238","fontFamily":"Minecraft.ttf","align":"left","wordWrap":true}},{"assetStoreId":"","name":"itemShower","tags":"","type":"BBText::BBText","variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}],"content":{"text":"Level","opacity":255,"fontSize":32,"visible":true,"color":"247;238;238","fontFamily":"Minecraft.ttf","align":"left","wordWrap":true}},{"assetStoreId":"","bottomMargin":70.0,"height":32.0,"leftMargin":4.0,"name":"stoneWall","rightMargin":4.0,"tags":"","texture":"assets\\wallStone.png","tiled":true,"topMargin":4.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}]},{"assetStoreId":"","name":"ePop","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"assets\\e_pop.png","points":[],"originPoint":{"name":"origine","x":8.0,"y":20.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}],"objectsGroups":[{"name":"wall","objects":[{"name":"WallBox"}]},{"name":"entity","objects":[{"name":"bob"},{"name":"liftDoor"},{"name":"stoneWall"},{"name":"item"}]}],"variables":[],"layouts":[{"b":209,"disableInputWhenNotFocused":true,"mangledName":"Menu","name":"Menu","r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":true,"zoomFactor":0.6403002668027643,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"BackButton","persistentUuid":"ad532124-fa9f-4141-b020-9413d0fe61d3","width":0.0,"x":0.0,"y":1024.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Transitions","name":"Transition","persistentUuid":"5a771a88-3156-4b0c-a358-2fac1537fe07","width":0.0,"x":-192.0,"y":32.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"BackButton","persistentUuid":"0d07370c-c45e-4292-9d5f-f15ce242f5fb","width":0.0,"x":0.0,"y":-64.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":64.0,"layer":"","name":"PlayButton","persistentUuid":"6e058d8b-7464-4998-b061-ef8eb5fd1801","width":192.0,"x":32.0,"y":256.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"CreditsButton","persistentUuid":"817fdc49-b4d2-48c0-8144-de6595bf6658","width":0.0,"x":32.0,"y":352.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Title","persistentUuid":"ae50f703-c616-43f9-a66b-ec7081e6254c","width":0.0,"x":0.0,"y":32.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"CreditsText","persistentUuid":"e781b778-347d-40c2-b294-6177c9c71e32","width":0.0,"x":0.0,"y":544.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"f0c3d7ae6099e3b9b8beed4e30b555107550b4fb2a5879e984a014b1e06865bf","name":"PlayButton","tags":"","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}],"content":{"LeftPadding":0.0,"RightPadding":0.0,"PressedLabelOffsetY":4.0,"BottomPadding":6.0,"TopPadding":0.0,"HoveredFadeOutDuration":0.0},"childrenContent":{"Hovered":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Hovered.png","tiled":false,"topMargin":10.0,"width":192.0},"Idle":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Idle.png","tiled":false,"topMargin":10.0,"width":192.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"Play","font":"MinecraftTen.ttf","textAlignment":"center","characterSize":45.0,"color":{"b":255,"g":255,"r":255}},"Pressed":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Pressed.png","tiled":false,"topMargin":10.0,"width":192.0}}},{"assetStoreId":"f0c3d7ae6099e3b9b8beed4e30b555107550b4fb2a5879e984a014b1e06865bf","name":"CreditsButton","tags":"","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}],"content":{"LeftPadding":0.0,"RightPadding":0.0,"PressedLabelOffsetY":4.0,"BottomPadding":6.0,"TopPadding":0.0,"HoveredFadeOutDuration":0.0},"childrenContent":{"Hovered":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Hovered.png","tiled":false,"topMargin":10.0,"width":192.0},"Idle":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Idle.png","tiled":false,"topMargin":10.0,"width":192.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"Credits","font":"MinecraftTen.ttf","textAlignment":"center","characterSize":45.0,"color":{"b":255,"g":255,"r":255}},"Pressed":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Pressed.png","tiled":false,"topMargin":10.0,"width":192.0}}},{"assetStoreId":"f0c3d7ae6099e3b9b8beed4e30b555107550b4fb2a5879e984a014b1e06865bf","name":"BackButton","tags":"","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}],"content":{"LeftPadding":0.0,"RightPadding":0.0,"PressedLabelOffsetY":4.0,"BottomPadding":6.0,"TopPadding":0.0,"HoveredFadeOutDuration":0.0},"childrenContent":{"Hovered":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Hovered.png","tiled":false,"topMargin":10.0,"width":192.0},"Idle":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Idle.png","tiled":false,"topMargin":10.0,"width":192.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"Back","font":"MinecraftTen.ttf","textAlignment":"center","characterSize":45.0,"color":{"b":255,"g":255,"r":255}},"Pressed":{"bottomMargin":10.0,"height":64.0,"leftMargin":6.0,"rightMargin":6.0,"texture":"Transparent Button With White Blue Border_Pressed.png","tiled":false,"topMargin":10.0,"width":192.0}}},{"assetStoreId":"","bold":false,"italic":false,"name":"Title","smoothed":true,"tags":"","type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Game Title","font":"Minecraft.ttf","textAlignment":"left","characterSize":64.0,"color":{"b":255,"g":255,"r":255}},{"assetStoreId":"","name":"Transition","tags":"","type":"PrimitiveDrawing::Drawer","variables":[],"effects":[],"behaviors":[{"name":"FlashTransitionPainter","type":"FlashTransitionPainter::FlashTransitionPainter","Timer":1.0,"Color":"255;255;255","Type":"","Direction":"","MaxOpacity":255.0}],"fillOpacity":255.0,"outlineSize":1,"outlineOpacity":255.0,"fillColor":{"b":255,"g":255,"r":255},"outlineColor":{"b":0,"g":0,"r":0},"absoluteCoordinates":true,"clearBetweenFrames":true},{"assetStoreId":"","bold":false,"italic":false,"name":"CreditsText","smoothed":true,"tags":"","type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Credits:\n\nPrograming: Ahnaf30e, Mrtubagames\n\nArt: Ahnaf30e\n\nMusic: Mrtubagames\n\nFont: Minecraft, Minecraft10","font":"Minecraft.ttf","textAlignment":"left","characterSize":32.0,"color":{"b":255,"g":255,"r":255}}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsClicked"},"parameters":["PlayButton",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Tween::TweenCameraPosition"},"parameters":["","\"MoveUp\"","480","-270","","750","\"easeInOutExpo\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsClicked"},"parameters":["CreditsButton",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Tween::TweenCameraPosition"},"parameters":["","\"MoveUp\"","480","810","","750","\"easeInOutExpo\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsClicked"},"parameters":["BackButton",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"Tween::TweenCameraPosition"},"parameters":["","\"MoveUp\"","480","270","","750","\"easeInOutExpo\""]}]}],"layers":[{"ambientLightColorB":0,"ambientLightColorG":8065944,"ambientLightColorR":1,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]},{"ambientLightColorB":8248096,"ambientLightColorG":6067680,"ambientLightColorR":8147696,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"Transitions","visibility":true,"cameras":[],"effects":[]}],"behaviorsSharedData":[{"name":"FlashTransitionPainter","type":"FlashTransitionPainter::FlashTransitionPainter"},{"name":"RemapForTopdown","type":"BehaviorRemapper::RemapForTopdown"},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera"},{"name":"TopDownMovement","type":"TopDownMovementBehavior::TopDownMovementBehavior"},{"name":"Tween","type":"Tween::TweenBehavior"}]},{"b":209,"disableInputWhenNotFocused":true,"mangledName":"ObjectRepository","name":"ObjectRepository","r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":true,"zoomFactor":0.6791409909776861,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"player","persistentUuid":"fd53daae-2503-4782-ab3e-5e0331816170","width":0.0,"x":448.0,"y":256.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":544.0,"layer":"","name":"WallBox","persistentUuid":"e3341017-fbef-49dc-995a-ddb4897a73f8","width":64.0,"x":896.0,"y":0.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":64.0,"layer":"","name":"WallBox","persistentUuid":"f906cccc-0958-4652-9bc2-5a34f1aef998","width":960.0,"x":0.0,"y":544.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":544.0,"layer":"","name":"WallBox","persistentUuid":"d92c627d-8f9d-4e16-bc46-54609072c413","width":64.0,"x":0.0,"y":0.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":64.0,"layer":"","name":"WallBox","persistentUuid":"c04b2fb8-37c9-4f85-903a-600c1b552a58","width":960.0,"x":0.0,"y":-64.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Enemy_BackForth","persistentUuid":"d8a4c402-9fdc-4724-b971-ce11f813bfd7","width":0.0,"x":704.0,"y":160.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[{"folded":true,"name":"Speed","type":"string","value":"300"},{"folded":true,"name":"Mode","type":"boolean","value":true}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Enemy_BackForth","persistentUuid":"79f36402-8683-4f16-9ba0-bb465125047c","width":0.0,"x":96.0,"y":256.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"folded":true,"name":"Speed","type":"string","value":"200"},{"folded":true,"name":"Mode","type":"boolean","value":true}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Enemy_BackForth","persistentUuid":"176aa8ac-2a22-432f-ae15-e4376d7b67a0","width":0.0,"x":32.0,"y":352.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[{"folded":true,"name":"Speed","type":"string","value":"300"},{"folded":true,"name":"Mode","type":"boolean","value":false}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"item","persistentUuid":"608f49fd-0f11-432d-9e99-da27d65c204c","width":0.0,"x":544.0,"y":288.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[],"events":[{"type":"BuiltinCommonInstructions::Link","include":{"includeConfig":0},"target":"Main Code"}],"layers":[{"ambientLightColorB":0,"ambientLightColorG":8889536,"ambientLightColorR":16,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]},{"ambientLightColorB":7719488,"ambientLightColorG":6067680,"ambientLightColorR":11639464,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"GUI","visibility":true,"cameras":[],"effects":[]}],"behaviorsSharedData":[{"name":"RemapForTopdown","type":"BehaviorRemapper::RemapForTopdown"},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera"},{"name":"TopDownMovement","type":"TopDownMovementBehavior::TopDownMovementBehavior"}]},{"b":25,"disableInputWhenNotFocused":true,"mangledName":"Level1","name":"Level1","r":23,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":24,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.2,"snap":true,"zoomFactor":1.0768523980808833,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":true,"height":192.0,"layer":"","name":"lift","persistentUuid":"7868b7fe-8da9-4383-a0af-49a03719179a","width":128.0,"x":416.0,"y":480.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":32.0,"layer":"","name":"player","persistentUuid":"f13a3f2d-2741-4068-8e7a-ea887d0fd49a","width":32.0,"x":466.0,"y":608.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":64.0,"layer":"","name":"bob","persistentUuid":"7541b31e-7260-4960-9071-95dcfcf749c6","width":64.0,"x":608.0,"y":608.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":544.0,"layer":"","name":"camZone","persistentUuid":"5309c369-361b-4097-bfe2-81f17a507279","width":960.0,"x":0.0,"y":0.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":128.0,"layer":"","name":"stoneWall","persistentUuid":"1e060aa9-8094-4b22-b004-fff72b151c46","width":288.0,"x":352.0,"y":192.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":128.0,"layer":"","name":"camZone","persistentUuid":"25b71634-47ce-47eb-9be3-2f81c001aa0b","width":128.0,"x":416.0,"y":544.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":9.0,"customSize":true,"height":32.0,"layer":"","name":"item","persistentUuid":"11a00984-f4c2-4489-a775-f6baebd5fde1","width":32.0,"x":702.0,"y":222.0,"zOrder":7,"numberProperties":[{"name":"animation","value":1.0}],"stringProperties":[],"initialVariables":[]}],"objects":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["lv","=","1"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["currentItem","=","\"empty\""]}]},{"type":"BuiltinCommonInstructions::Link","include":{"includeConfig":0},"target":"Main Code"}],"layers":[{"ambientLightColorB":0,"ambientLightColorG":0,"ambientLightColorR":1597394241,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]},{"ambientLightColorB":10928784,"ambientLightColorG":6067680,"ambientLightColorR":11644920,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"GUI","visibility":true,"cameras":[],"effects":[]}],"behaviorsSharedData":[{"name":"RemapForTopdown","type":"BehaviorRemapper::RemapForTopdown"},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera"},{"name":"TopDownMovement","type":"TopDownMovementBehavior::TopDownMovementBehavior"},{"name":"Tween","type":"Tween::TweenBehavior"}]},{"b":209,"disableInputWhenNotFocused":true,"mangledName":"Boss","name":"Boss","r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":true,"zoomFactor":0.3491261960880217,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":true,"height":224.0,"layer":"","name":"WallBox","persistentUuid":"9c879077-4d07-4f91-bd15-6ec265095ac9","width":1728.0,"x":-384.0,"y":-416.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":288.0,"layer":"","name":"WallBox","persistentUuid":"9b1ee98a-5cb9-4f0e-9bfc-45a10cd4d878","width":1728.0,"x":-384.0,"y":736.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":1440.0,"layer":"","name":"WallBox","persistentUuid":"2eba4fc6-b335-4b85-b3cc-5d4e9581b1b0","width":352.0,"x":1344.0,"y":-416.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"height":1440.0,"layer":"","name":"WallBox","persistentUuid":"b00dbc6e-73b6-4410-9374-93ce8109d0da","width":384.0,"x":-768.0,"y":-416.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"player","persistentUuid":"2b36ef2e-5446-448f-a295-728fcdb3c901","width":0.0,"x":-32.0,"y":640.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Boss","persistentUuid":"9330e58d-0648-4b39-a7f3-98f107ba3998","width":0.0,"x":320.0,"y":160.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"item","persistentUuid":"89ae6e8e-49b1-4e77-af4a-3424170dd3a9","width":0.0,"x":-96.0,"y":544.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","name":"Boss","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[{"folded":true,"name":"Health","type":"string","value":""},{"folded":true,"name":"Phase","type":"string","value":"1"},{"folded":true,"name":"Attack","type":"string","value":""}],"effects":[],"behaviors":[],"animations":[{"name":"Boss_Devart","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"Boss_Devart","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]}],"events":[{"type":"BuiltinCommonInstructions::Link","include":{"includeConfig":0},"target":"Main Code"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["player","SmoothCamera",""]},{"type":{"value":"SetCameraCenterX"},"parameters":["","=","480","",""]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","270","",""]},{"type":{"value":"ZoomCamera"},"parameters":["","0.5","",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"layers":[{"ambientLightColorB":0,"ambientLightColorG":0,"ambientLightColorR":67,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"behaviorsSharedData":[{"name":"RemapForTopdown","type":"BehaviorRemapper::RemapForTopdown"},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera"},{"name":"TopDownMovement","type":"TopDownMovementBehavior::TopDownMovementBehavior"}]}],"externalEvents":[{"associatedLayout":"ObjectRepository","lastChangeTimeStamp":0,"name":"Main Code","events":[{"colorB":191,"colorG":175,"colorR":206,"creationTime":0,"name":"AllEvents","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Initiate","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["itemDis","=","32"]}],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SceneInstancesCount"},"parameters":["liftDoor","lift",">","0"]}],"actions":[{"type":{"value":"CentreCamera"},"parameters":["","lift","","\"\"","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","WallBox","lift.BoundingBoxRight()","lift.BoundingBoxTop()+64","\"\""]},{"type":{"value":"ChangeHeight"},"parameters":["WallBox","=","128"]},{"type":{"value":"ChangeWidth"},"parameters":["WallBox","=","32"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","WallBox","lift.BoundingBoxLeft()-32","lift.BoundingBoxTop()+64","\"\""]},{"type":{"value":"ChangeHeight"},"parameters":["WallBox","=","128"]},{"type":{"value":"ChangeWidth"},"parameters":["WallBox","=","32"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","WallBox","lift.BoundingBoxLeft()-32","lift.BoundingBoxTop()+32","\"\""]},{"type":{"value":"ChangeHeight"},"parameters":["WallBox","=","32"]},{"type":{"value":"ChangeWidth"},"parameters":["WallBox","=","lift.Width()/2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","WallBox","lift.BoundingBoxRight()-(lift.Width()/4)","lift.BoundingBoxTop()+32","\"\""]},{"type":{"value":"ChangeHeight"},"parameters":["WallBox","=","32"]},{"type":{"value":"ChangeWidth"},"parameters":["WallBox","=","lift.Width()/2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","WallBox","lift.BoundingBoxLeft()-32","lift.BoundingBoxBottom()","\"\""]},{"type":{"value":"ChangeHeight"},"parameters":["WallBox","=","32"]},{"type":{"value":"ChangeWidth"},"parameters":["WallBox","=","lift.Width()*1.5"]}]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"stoneWall","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","WallBox","stoneWall.X()","stoneWall.Y()+64","\"\""]},{"type":{"value":"SetSize"},"parameters":["WallBox","stoneWall.Width()","stoneWall.Height()-64"]},{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","stoneWall","WallBox"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","levelShower","0","0","\"GUI\""]},{"type":{"value":"BBText::SetBBText"},"parameters":["levelShower","=","\"Level: [b][i]\" + VariableString(lv) + \"[/i][/b]\""]},{"type":{"value":"SetCenter"},"parameters":["levelShower","=","480","=","480"]},{"type":{"value":"Create"},"parameters":["","liftDoor","lift.X()","lift.Y()",""]},{"type":{"value":"ChangeScale"},"parameters":["liftDoor","=","2"]},{"type":{"value":"Create"},"parameters":["","item","player.CenterX()","player.CenterY()","\"\""]},{"type":{"value":"ModVarObjetTxt"},"parameters":["item","type","=","\"hand\""]},{"type":{"value":"ChangeScale"},"parameters":["item","=","2"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Wait"},"parameters":["1"]},{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["levelShower","Tween","\"fadeOut\"","0","\"easeInOutExpo\"","400","yes"]},{"type":{"value":"Wait"},"parameters":["0.5"]},{"type":{"value":"SetAnimationName"},"parameters":["liftDoor","\"open\""]}]}]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Cache"},"parameters":["WallBox"]},{"type":{"value":"Cache"},"parameters":["player"]},{"type":{"value":"Cache"},"parameters":["camZone"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Entities","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"colorB":107,"colorG":71,"colorR":0,"creationTime":0,"name":"Z-Order (Y-sort)","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"entity","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangePlan"},"parameters":["entity","=","entity.BoundingBoxBottom()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["item","type","=","\"hand\""]}],"actions":[{"type":{"value":"ChangePlan"},"parameters":["item","=","bob.ZOrder()"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Player","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SeparateFromObjects"},"parameters":["player","wall",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AnimationName"},"parameters":["liftDoor","\"close\""]}],"actions":[{"type":{"value":"SeparateFromObjects"},"parameters":["player","liftDoor",""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Camera","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["camZone","player.CenterX()","player.CenterY()"]}],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","=","lerp(CameraCenterX(), camZone.CenterX(), 0.25)","\"\"","0"]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","lerp(CameraCenterY(), camZone.CenterY(), 0.25)","\"\"","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Not"},"parameters":[],"subInstructions":[{"type":{"value":"CollisionPoint"},"parameters":["camZone","player.CenterX()","player.CenterY()"]}]}],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","=","lerp(CameraCenterX(), player.CenterX(), 0.5)","\"\"","0"]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","lerp(CameraCenterY(), player.CenterY(), 0.5)","\"\"","0"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Animations","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TopDownMovementBehavior::Speed"},"parameters":["player","TopDownMovement","<","12"]}],"actions":[{"type":{"value":"SetAnimationName"},"parameters":["bob","\"idle\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TopDownMovementBehavior::Speed"},"parameters":["player","TopDownMovement",">=","12"]}],"actions":[{"type":{"value":"SetAnimationName"},"parameters":["bob","\"run\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TopDownMovementBehavior::XVelocity"},"parameters":["player","TopDownMovement","<","-12"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["bob","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TopDownMovementBehavior::XVelocity"},"parameters":["player","TopDownMovement",">","12"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["bob",""]}]}],"parameters":[]},{"colorB":80,"colorG":64,"colorR":28,"creationTime":0,"folded":true,"name":"Cool Wall Opacity","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CollisionPoint"},"parameters":["stoneWall","bob.CenterX()","bob.CenterY()"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["stoneWall","behind","True"]}],"actions":[{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["stoneWall","Tween","\"showBehind\"","255","\"easeInOutExpo\"","400",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["stoneWall","behind","False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["stoneWall","bob.CenterX()","bob.CenterY()"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["stoneWall","behind",""]}],"actions":[{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["stoneWall","Tween","\"showBehind\"","155","\"easeInOutExpo\"","400",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["stoneWall","behind","True"]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["bob","=","player.CenterX()","=","player.Y()"]}]},{"colorB":107,"colorG":71,"colorR":0,"creationTime":0,"name":"Gun or items","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["item","type","=","\"hand\""]}],"actions":[{"type":{"value":"RotateTowardAngle"},"parameters":["item","AngleBetweenPositions(bob.CenterX(), bob.CenterY(), MouseX(), MouseY())","720",""]},{"type":{"value":"SetCenter"},"parameters":["item","=","lerp(item.CenterX(), bob.CenterX() + XFromAngleAndDistance(AngleBetweenPositions(bob.CenterX(), bob.CenterY(), MouseX(), MouseY()), 20), 0.5)","=","lerp(item.CenterY(), bob.CenterY() + YFromAngleAndDistance(AngleBetweenPositions(bob.CenterX(), bob.CenterY(), MouseX(), MouseY()), 25), 0.5)"]},{"type":{"value":"SetAnimationName"},"parameters":["item","GlobalVariableString(currentItem)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["abs(item.Angle())",">","90"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["item","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["abs(item.Angle())","<","90"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["item","no"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["item","type","=","\"0\""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Pop up + Pick up","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Distance"},"parameters":["item","bob","50",""]},{"type":{"value":"PickNearest"},"parameters":["item","bob.X()","bob.Y()",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["item","popped","False"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["item","popped","True"]},{"type":{"value":"Create"},"parameters":["","ePop","item.CenterX()","item.BoundingBoxTop()","\"\""]},{"type":{"value":"ChangeScale"},"parameters":["ePop","=","0"]},{"type":{"value":"Tween::AddObjectScaleTween"},"parameters":["ePop","Tween","\"pop\"","2","2","\"easeOutBack\"","250","",""]},{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","item","ePop"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","e"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkedObjects::PickObjectsLinkedTo"},"parameters":["","ePop","item",""]}],"actions":[{"type":{"value":"Tween::AddObjectScaleTween"},"parameters":["ePop","Tween","\"pop\"","0","0","\"easeInBack\"","200","yes",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["currentItem","=","item.AnimationName()"]},{"type":{"value":"Delete"},"parameters":["item",""]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Distance"},"parameters":["item","bob","50",""]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["item","popped","True"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["item","popped","False"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkedObjects::PickObjectsLinkedTo"},"parameters":["","ePop","item",""]}],"actions":[{"type":{"value":"Tween::AddObjectScaleTween"},"parameters":["ePop","Tween","\"pop\"","0","0","\"easeInBack\"","200","yes",""]}]}]}],"parameters":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Enemy","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":107,"colorG":71,"colorR":0,"creationTime":0,"disabled":true,"folded":true,"name":"Ignore pls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Note: Boolean Mode controls wether enemy goes up and down or left and right. True= Left and Right, False= Up and down","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Enemy_BackForth","Mode","False"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","0","-Enemy_BackForth.Variable(Speed)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","0","Enemy_BackForth.Variable(Speed)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Enemy_BackForth","WallBox","Enemy_BackForth.PointY(\"WallCheckVert\")","","yes"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Enemy_BackForth","FlipChecked","False"]}],"events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Enemy_BackForth","no"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Enemy_BackForth","FlipChecked","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SeparateFromObjects"},"parameters":["Enemy_BackForth","WallBox",""]}]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckVert\")","Enemy_BackForth.PointY(\"WallCheckVert\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Enemy_BackForth","no"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Enemy_BackForth","Mode","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","Enemy_BackForth.Variable(Speed)","0","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","-Enemy_BackForth.Variable(Speed)","0","0"]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckHoriz\")","Enemy_BackForth.PointY(\"WallCheckHoriz\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Enemy_BackForth","yes"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckHoriz\")","Enemy_BackForth.PointY(\"WallCheckHoriz\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Enemy_BackForth","no"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]}]}],"parameters":[]},{"colorB":107,"colorG":71,"colorR":0,"creationTime":0,"folded":true,"name":"Back And Forth Boi","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Note: Boolean Mode controls wether enemy goes up and down or left and right. True= Left and Right, False= Up and down","comment2":""},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Enemy_BackForth","Mode","False"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","0","-Enemy_BackForth.Variable(Speed)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","0","Enemy_BackForth.Variable(Speed)","0"]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckVert\")","Enemy_BackForth.PointY(\"WallCheckVert\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Enemy_BackForth","yes"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckVert\")","Enemy_BackForth.PointY(\"WallCheckVert\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Enemy_BackForth","no"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Enemy_BackForth","Mode","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","Enemy_BackForth.Variable(Speed)","0","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Enemy_BackForth","-Enemy_BackForth.Variable(Speed)","0","0"]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckHoriz\")","Enemy_BackForth.PointY(\"WallCheckHoriz\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Enemy_BackForth","yes"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]},{"type":"BuiltinCommonInstructions::ForEach","object":"Enemy_BackForth","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["WallBox","Enemy_BackForth.PointX(\"WallCheckHoriz\")","Enemy_BackForth.PointY(\"WallCheckHoriz\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedX"},"parameters":["Enemy_BackForth"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Enemy_BackForth","no"]},{"type":{"value":"Arreter"},"parameters":["Enemy_BackForth"]}]}]}]}],"parameters":[]}],"parameters":[]}],"parameters":[]}],"parameters":[]}]},{"associatedLayout":"ObjectRepository","lastChangeTimeStamp":0,"name":"replace","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["item","type","=","\"hand\""]}],"actions":[{"type":{"value":"RotateTowardAngle"},"parameters":["item","AngleBetweenPositions(bob.CenterX(), bob.CenterY(), MouseX(), MouseY())","720",""]},{"type":{"value":"SetCenter"},"parameters":["item","=","lerp(item.CenterX(), bob.CenterX() + XFromAngleAndDistance(AngleBetweenPositions(bob.CenterX(), bob.CenterY(), MouseX(), MouseY()), 50), 0.5)","=","lerp(item.CenterY(), bob.CenterY() + YFromAngleAndDistance(AngleBetweenPositions(bob.CenterX(), bob.CenterY(), MouseX(), MouseY()), 50), 0.5)"]}]}]}],"eventsFunctionsExtensions":[{"author":"@4ian","category":"Game mechanic","extensionNamespace":"","fullName":"Fire bullets","helpPath":"https://gdevelop.io/game-example/fire-bullet","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWJ1bGxldCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNCwyMkgxMFYyMUgxNFYyMk0xMywxMFY3SDExVjEwTDEwLDExLjVWMjBIMTRWMTEuNUwxMywxME0xMiwyQzEyLDIgMTEsMyAxMSw1VjZIMTNWNUMxMyw1IDEzLDMgMTIsMloiIC8+PC9zdmc+","name":"FireBullet","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/bullet.svg","shortDescription":"Fire bullets, manage ammo, reloading, and overheating.","version":"0.4.2","description":["Fire bullets, manage ammo, reloading, and overheating.","","Firing bullets:","- Cooldown: Time between shots (seconds)","- Bullet Quantity: Number of bullets created each time Fire Bullet action is used. ","- Firing Arc: Range of angles (in degrees) that bullets will shoot. Bullets are evenly spread within this range.","- Rotate bullet: Change the angle of each bullet to match the direction it is travelling (enabled by default)","- Angle Variance: Each bullet trajectory will be adjusted by a random value within this range (degrees)","- Bullet speed variance: Each bullet speed will be adjusted by a random value within this range (pixels/second)",""," Ammo:","- Starting ammo","- Max ammo","- Shots per reload. Use 0 to disable reloading","- Reload duration","- Automatic reloading is enabled by default, but it can also be done manually.","","Overheat:","- Heat increase per shot. Object is Overheated when Heat reaches  1.","- Cooling rate per second","- When overheated, the object cannot fire any bullets","","Statistics:","- Total bullets created","- Total shots taken","- Total reloads completed"],"origin":{"identifier":"FireBullet","name":"gdevelop-extension-store"},"tags":["fire","bullet","spawn","firerate","reload","weapon","ranged","ammo","overheat"],"authorIds":["wWP8BSlAW0UP4NeaHa2LcmmDzmH2","xpwUwByyImTDcHEqDUqfyg0oRBt1","2OwwM8ToR9dx9RJ2sAKTcrLmCB92","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Fire bullets, manage ammo, reloading, and overheating.","fullName":"Fire bullets","name":"FireBullet","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__FireBullet.FiringCooldown\""]},{"type":{"value":"FireBullet::FireBullet::SetPropertyAmmoQuantity"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyStartingAmmo()"]},{"type":{"value":"FireBullet::FireBullet::SetPropertyShotsBeforeNextReload"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyShotsPerReload()"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":224,"colorG":16,"colorR":189,"creationTime":0,"name":"Take a shot (if triggered)","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Creators can use the \"FireBullet\" action multiple times in a frame and it will be counted as a single \"shot\".","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyHasJustFired"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Reset firing cooldown","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__FireBullet.FiringCooldown\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update ammo","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Subtract 1 from ammo (if not unlimited ammo)","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::PropertyUnlimitedAmmo"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAmmoQuantity"},"parameters":["Object","Behavior","-","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update reloading counter","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyShotsPerReload"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyShotsBeforeNextReload"},"parameters":["Object","Behavior","-","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Automatically reload gun when needed","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyAutomaticReloading"},"parameters":["Object","Behavior"]},{"type":{"value":"FireBullet::FireBullet::IsReloadNeeded"},"parameters":["Object","Behavior",""]},{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsReloadInProgress"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::ReloadAmmo"},"parameters":["Object","Behavior",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update Overheat","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Increase heat (if needed)","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyHeatIncreasePerShot"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyHeatLevel"},"parameters":["Object","Behavior","+","Object.Behavior::PropertyHeatIncreasePerShot()"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Check if this caused overheat","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyOverheatDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"FireBullet::FireBullet::IsOverheated"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__FireBullet.OverheatDuration\""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update statistics","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyTotalShotsFired"},"parameters":["Object","Behavior","+","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Reset firing detection","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyHasJustFired"},"parameters":["Object","Behavior","="]}]}],"parameters":[]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Reload gun when needed","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Detect when reload is completed","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::IsReloadInProgress"},"parameters":["Object","Behavior",""]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"__FireBullet.ReloadingTimer\"",">=","Object.Behavior::PropertyReloadDuration()"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyTotalReloadsCompleted"},"parameters":["Object","Behavior","+","1"]},{"type":{"value":"FireBullet::FireBullet::SetPropertyReloadInProgress"},"parameters":["Object","Behavior","no"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::IsUnlimitedAmmo"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyShotsBeforeNextReload"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyShotsPerReload()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Only reload the amount of ammo available","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsUnlimitedAmmo"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyShotsBeforeNextReload"},"parameters":["Object","Behavior","=","min(Object.Behavior::PropertyShotsPerReload(), Object.Behavior::PropertyAmmoQuantity())"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Reduce heat level (based on cooling rate)","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::HeatLevel()",">","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyExponentialCoolingRate"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyHeatLevel"},"parameters":["Object","Behavior","=","max(0, Object.Behavior::PropertyHeatLevel() - TimeDelta() * Object.Behavior::PropertyExponentialCoolingRate() * Object.Behavior::PropertyHeatLevel())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyLinearCoolingRate"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyHeatLevel"},"parameters":["Object","Behavior","=","max(0, Object.Behavior::PropertyHeatLevel() - TimeDelta() * Object.Behavior::PropertyLinearCoolingRate())"]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Fire bullets toward a position.","fullName":"Fire bullets toward a position","functionType":"Action","name":"FireTowardPosition","sentence":"Fire _PARAM4_ from _PARAM0_, at position _PARAM2_; _PARAM3_, toward position _PARAM5_;_PARAM6_ with speed _PARAM7_ px/s","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Calculate the trajectory angle and use the \"Fire bullets\" action","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::Fire"},"parameters":["Object","Behavior","GetArgumentAsNumber(\"XPosition\")","GetArgumentAsNumber(\"YPosition\")","Bullet","Object.AngleToPosition(GetArgumentAsNumber(\"TargetXPosition\"),GetArgumentAsNumber(\"TargetYPosition\"))","GetArgumentAsNumber(\"Speed\")",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"X position, where to create the bullet","name":"XPosition","type":"expression"},{"description":"Y position, where to create the bullet","name":"YPosition","type":"expression"},{"description":"The bullet object","name":"Bullet","type":"objectList"},{"description":"Target X position","name":"TargetXPosition","type":"expression"},{"description":"Target Y position","name":"TargetYPosition","type":"expression"},{"description":"Speed of the bullet, in pixels per second","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Fire bullets in the direction of a given angle.","fullName":"Fire bullets toward an angle","functionType":"Action","name":"Fire","sentence":"Fire _PARAM4_ from _PARAM0_, at position _PARAM2_; _PARAM3_, toward angle _PARAM5_ and speed _PARAM6_ px/s","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check if ready to shoot","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::IsReadyToShoot"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyHasJustFired"},"parameters":["Object","Behavior","yes"]}],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Single bullet","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::PropertyBulletQuantity()","=","1"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::FireSingleBullet"},"parameters":["Object","Behavior","GetArgumentAsNumber(\"XPosition\")","GetArgumentAsNumber(\"YPosition\")","Bullet","GetArgumentAsNumber(\"Angle\")","GetArgumentAsNumber(\"Speed\")",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Multiple bullets","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::PropertyBulletQuantity()",">","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FireBullet.CurrentBulletAngle","=","GetArgumentAsNumber(\"Angle\") - Object.Behavior::PropertyFiringArc()/2"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FireBullet.BatchOrderID","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.Behavior::PropertyBulletQuantity()","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::FireSingleBullet"},"parameters":["Object","Behavior","GetArgumentAsNumber(\"XPosition\")","GetArgumentAsNumber(\"YPosition\")","Bullet","Object.Variable(__FireBullet.CurrentBulletAngle) + RandomInRange(-Object.Behavior::PropertyAngleVariance(),Object.Behavior::PropertyAngleVariance())","GetArgumentAsNumber(\"Speed\")",""]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move temp variable to the next angle a bullet will be sent","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FireBullet.CurrentBulletAngle","+","Object.Behavior::PropertyFiringArc() / (Object.Behavior::PropertyBulletQuantity() - 1)"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FireBullet.BatchOrderID","+","1"]}]}]}]}],"parameters":[]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"X position, where to create the bullet","name":"XPosition","type":"expression"},{"description":"Y position, where to create the bullet","name":"YPosition","type":"expression"},{"description":"The bullet object","name":"Bullet","type":"objectList"},{"description":"Angle of the bullet, in degrees","name":"Angle","type":"expression"},{"description":"Speed of the bullet, in pixels per second","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Fire a single bullet. This is only meant to be used inside the \"Fire bullet\" action.","fullName":"Fire a single bullet","functionType":"Action","group":"Firing","name":"FireSingleBullet","private":true,"sentence":"Fire a single bullet _PARAM4_ from _PARAM0_, at position _PARAM2_; _PARAM3_, with angle _PARAM5_ and speed _PARAM6_ px/s","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Fire a single bullet","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create bullet","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Bullet","GetArgumentAsNumber(\"XPosition\")","GetArgumentAsNumber(\"YPosition\")","Object.Behavior::PropertyBulletLayer()"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move bullet (apply angle and bullet speed variances)","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyRandomizedAngle"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Angle\") + RandomInRange(-Object.Behavior::PropertyAngleVariance(), Object.Behavior::PropertyAngleVariance())"]},{"type":{"value":"AddForceAL"},"parameters":["Bullet","Object.Behavior::PropertyRandomizedAngle()","GetArgumentAsNumber(\"Speed\") + RandomInRange(-Object.Behavior::PropertyBulletSpeedVariance(), Object.Behavior::PropertyBulletSpeedVariance())","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add identifier variables (to enable advanced picking by users)","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Bullet","__FireBullet.BulletID","=","Object.Behavior::PropertyTotalBulletsCreated()"]},{"type":{"value":"ModVarObjet"},"parameters":["Bullet","__FireBullet.BatchID","=","Object.Behavior::PropertyTotalShotsFired()"]},{"type":{"value":"ModVarObjet"},"parameters":["Bullet","__FireBullet.BatchOrderID","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Rotate newly created bullet, if needed","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyRotateBullet"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Bullet","=","Object.Behavior::PropertyRandomizedAngle()"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update statistics","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyTotalBulletsCreated"},"parameters":["Object","Behavior","+","1"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"X position, where to create the bullet","name":"XPosition","type":"expression"},{"description":"Y position, where to create the bullet","name":"YPosition","type":"expression"},{"description":"The bullet object","name":"Bullet","type":"objectList"},{"description":"Angle of the bullet, in degrees","name":"Angle","type":"expression"},{"description":"Speed of the bullet, in pixels per second","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Reload ammo.","fullName":"Reload ammo","functionType":"Action","name":"ReloadAmmo","sentence":"Reload ammo on _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsOutOfAmmo"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyReloadInProgress"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__FireBullet.ReloadingTimer\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object has just fired something.","fullName":"Has just fired","functionType":"Condition","group":"Firing","name":"HasJustFired","sentence":"_PARAM0_ has just fired","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyHasJustFired"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if bullet rotates to match trajectory.","fullName":"Is bullet rotation enabled","functionType":"Condition","group":"Firing","name":"BulletRotationEnabled","sentence":"Bullet rotation enabled on _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyRotateBullet"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Change the firing arc (in degrees) where bullets will be shot. Bullets will be evenly spaced out inside the firing arc.","fullName":"Set firing arc","functionType":"Action","group":"Multi-Fire","name":"SetFiringArc","sentence":"Set firing arc of _PARAM0_ to _PARAM2_ degrees","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyFiringArc"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Firing arc (degrees) Range: 0 to 360","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the angle variance (in degrees) applied to each bullet.","fullName":"Set angle variance","functionType":"Action","group":"Firing","name":"SetAngleVariance","sentence":"Set angle variance of _PARAM0_ to _PARAM2_ degrees","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAngleVariance"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Angle variance (degrees) Range: 0 to 180","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the speed variance (pixels per second) applied to each bullet.","fullName":"Set bullet speed variance","functionType":"Action","group":"Multi-Fire","name":"SetBulletSpeedVariance","sentence":"Set bullet speed variance of _PARAM0_ to _PARAM2_ pixels per second","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyBulletSpeedVariance"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Angle variance (degrees) Range: 0 to 180","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the number of bullets shot every time the \"fire bullet\" action is used.","fullName":"Set number of bullets per shot","functionType":"Action","group":"Multi-Fire","name":"SetBulletQuantity","sentence":"Set number of bullets per shot of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyBulletQuantity"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Bullets","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the layer that bullets are created on.","fullName":"Set bullet layer","functionType":"Action","group":"Firing","name":"SetBulletLayer","sentence":"Set the layer used to create bullets fired by _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyBulletLayer"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Layer","name":"Value","type":"layer"}],"objectGroups":[]},{"description":"Enable bullet rotation.","fullName":"Enable (or disable) bullet rotation","functionType":"Action","group":"Firing","name":"SetRotateBullet","sentence":"Enable bullet rotation on _PARAM0_:  _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"RotateBullet\""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyRotateBullet"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"RotateBullet\""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyRotateBullet"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"defaultValue":"yes","description":"Rotate bullet to match trajetory","name":"RotateBullet","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Enable unlimited ammo.","fullName":"Enable (or disable) unlimited ammo","functionType":"Action","group":"Ammo","name":"SetUnlimitedAmmo","sentence":"Enable unlimited ammo on _PARAM0_:  _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"UnlimitedAmmo\""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyUnlimitedAmmo"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"UnlimitedAmmo\""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyUnlimitedAmmo"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"defaultValue":"yes","description":"Unlimited ammo","name":"UnlimitedAmmo","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Change the firing cooldown, which changes the rate of fire.","fullName":"Set firing cooldown","functionType":"Action","group":"Firing","name":"SetCooldown","sentence":"Set the fire rate of _PARAM0_ to _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyFireCooldown"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"NewCooldown\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Cooldown in seconds","name":"NewCooldown","type":"expression"}],"objectGroups":[]},{"description":"Change the duration to reload ammo.","fullName":"Set reload duration","functionType":"Action","group":"Reload","name":"SetReloadDuration","sentence":"Set the reload duration of _PARAM0_ to _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyReloadDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Reload duration (seconds)","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the duration after becoming overheated.","fullName":"Set overheat duration","functionType":"Action","group":"Overheat","name":"SetOverheatDuration","sentence":"Set the overheat duration of _PARAM0_ to _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyOverheatDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Overheat duration (seconds)","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the quantity of ammo.","fullName":"Set ammo quantity","functionType":"Action","group":"Ammo","name":"SetAmmoQuantity","sentence":"Set the ammo quantity of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAmmoQuantity"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Ammo","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the heat increase per shot.","fullName":"Set heat increase per shot","functionType":"Action","group":"Overheat","name":"SetHeatPerShot","sentence":"Set the heat increase of _PARAM0_ to _PARAM2_ per shot","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyHeatIncreasePerShot"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Heat increase per shot (Range: 0 to 1)","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the max ammo.","fullName":"Set max ammo","functionType":"Action","group":"Ammo","name":"SetMaxAmmo","sentence":"Set the max ammo of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyMaxAmmo"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyMaxAmmo"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAmmoQuantity"},"parameters":["Object","Behavior","=","min(Object.Behavior::MaxAmmo(),Object.Behavior::AmmoQuantity())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Max ammo","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Reset total shots fired.","fullName":"Reset total shots fired","functionType":"Action","group":"Stats","name":"ResetTotalShotsFired","sentence":"Reset total shots fired by _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyTotalShotsFired"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Reset total bullets created.","fullName":"Reset total bullets created","functionType":"Action","group":"Stats","name":"ResetTotalBulletsCreated","sentence":"Reset total bullets created by _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyTotalBulletsCreated"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Reset total reloads completed.","fullName":"Reset total reloads completed","functionType":"Action","group":"Stats","name":"ResetTotalReloadsCompleted","sentence":"Reset total reloads completed by _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyTotalReloadsCompleted"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Change the number of shots per reload.","fullName":"Set shots per reload","functionType":"Action","group":"Reload","name":"SetShotsPerReload","sentence":"Set the shots per reload of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyShotsPerReload"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyShotsBeforeNextReload"},"parameters":["Object","Behavior",">","Object.Behavior::PropertyShotsPerReload()"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyShotsBeforeNextReload"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyShotsPerReload()"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Shots per reload","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Enable (or disable) automatic reloading.","fullName":"Enable (or disable) automatic reloading","functionType":"Action","group":"Reload","name":"SetAutomaticReload","sentence":"Enable automatic reloading on _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAutomaticReloading"},"parameters":["Object","Behavior","="]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAutomaticReloading"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"defaultValue":"yes","description":"Enable automatic reloading","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Change the linear rate of cooling.","fullName":"Set linear cooling rate","functionType":"Action","group":"Overheat","name":"SetLinearCoolingRate","sentence":"Set the linear cooling rate of _PARAM0_ to _PARAM2_ per second","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyLinearCoolingRate"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Heat cooling rate (per second)","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the exponential rate of cooling.","fullName":"Set exponential cooling rate","functionType":"Action","group":"Overheat","name":"SetExponentialCoolingRate","sentence":"Set the exponential cooling rate of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyExponentialCoolingRate"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Exponential cooling rate","name":"Value","supplementaryInformation":"[\"Exponential\",\"Linear\"]","type":"expression"}],"objectGroups":[]},{"description":"Increase ammo quantity.","fullName":"Increase ammo","functionType":"Action","name":"IncreaseAmmo","sentence":"Increase ammo of _PARAM0_ by _PARAM2_ shots","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAmmoQuantity"},"parameters":["Object","Behavior","+","GetArgumentAsNumber(\"AmmoGained\")"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"If Max Ammo is set, do not exceed the value","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyMaxAmmo"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::SetPropertyAmmoQuantity"},"parameters":["Object","Behavior","=","min(Object.Behavior::MaxAmmo(),Object.Behavior::AmmoQuantity())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::IsReloadNeeded"},"parameters":["Object","Behavior",""]},{"type":{"value":"FireBullet::FireBullet::PropertyAutomaticReloading"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FireBullet::FireBullet::ReloadAmmo"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"},{"description":"Ammo gained","name":"AmmoGained","type":"expression"}],"objectGroups":[]},{"description":"Number of bullets to shoot at once (evenly spaced inside the Firing Arc).","fullName":"Bullet quantity","functionType":"Expression","group":"Multi-Fire","name":"BulletQuantity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyBulletQuantity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Layer that bullets are created on.","fullName":"Bullet layer","functionType":"StringExpression","group":"Multi-Fire","name":"BulletLayer","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.Behavior::PropertyBulletLayer()"]}]}],"expressionType":{"type":"layer"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Angle variance, in degrees.","fullName":"Angle variance","functionType":"Expression","group":"Firing","name":"AngleVariance","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyAngleVariance()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Bullet speed variance, in pixels per second.","fullName":"Bullet speed variance","functionType":"Expression","group":"Multi-Fire","name":"BulletSpeedVariance","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyBulletSpeedVariance()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Firing arc, in degrees.","fullName":"Firing arc","functionType":"Expression","group":"Multi-Fire","name":"FiringArc","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyFiringArc()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Heat level (Range: 0 to 1).","fullName":"Heat level","functionType":"Expression","group":"Overheat","name":"HeatLevel","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["min(1,Object.Behavior::PropertyHeatLevel())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Firing cooldown, in seconds.","fullName":"Firing cooldown","functionType":"Expression","group":"Firing","name":"Cooldown","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyFireCooldown()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Reload duration, in seconds.","fullName":"Reload duration","functionType":"Expression","group":"Ammo","name":"ReloadDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyReloadDuration()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Overheat duration, in seconds.","fullName":"Overheat duration","functionType":"Expression","group":"Overheat","name":"OverheatDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyOverheatDuration()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Heat increase per shot.","fullName":"Heat increase per shot","functionType":"Expression","group":"Overheat","name":"HeatIncreasePerShot","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyHeatIncreasePerShot()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Linear cooling rate, per second.","fullName":"Linear cooling rate","functionType":"Expression","group":"Overheat","name":"LinearCoolingRate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyLinearCoolingRate()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Exponential cooling rate, per second.","fullName":"Exponential cooling rate","functionType":"Expression","group":"Overheat","name":"ExponentialCoolingRate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyExponentialCoolingRate()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Max ammo.","fullName":"Max ammo","functionType":"Expression","group":"Ammo","name":"MaxAmmo","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyMaxAmmo()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Total shots fired (multi-bullet shots are considered one shot).","fullName":"Shots fired","functionType":"Expression","group":"Stats","name":"TotalShotsFired","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyTotalShotsFired()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Total bullets created.","fullName":"Bullets created","functionType":"Expression","group":"Stats","name":"TotalBulletsCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyTotalBulletsCreated()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Reloads completed.","fullName":"Reloads completed","functionType":"Expression","group":"Stats","name":"TotalReloadsCompleted","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyTotalReloadsCompleted()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Ammo quantity.","fullName":"Ammo quantity","functionType":"Expression","group":"Ammo","name":"AmmoQuantity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyAmmoQuantity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Shots remaining before the next reload is required.","fullName":"Shots before next reload","functionType":"Expression","group":"Reload","name":"ShotsBeforeNextReload","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyShotsBeforeNextReload()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Shots per reload.","fullName":"Shots per reload","functionType":"Expression","group":"Reload","name":"ShotsPerReload","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyShotsPerReload()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Seconds remaining before the cooldown will permit a bullet to be fired.","fullName":"Time remaining before a bullet may be fired","functionType":"Expression","group":"Firing","name":"CooldownTimeLeft","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["max(0,Object.Behavior::Cooldown() - Object.ObjectTimerElapsedTime(\"__FireBullet.FiringCooldown\"))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Seconds remaining before the overheat penalty ends.","fullName":"Time remaining before overheat penalty ends","functionType":"Expression","group":"Overheat","name":"OverheatTimeLeft","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"__FireBullet.OverheatDuration\"",">","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["max(0, Object.Behavior::PropertyOverheatDuration() - Object.ObjectTimerElapsedTime(\"__FireBullet.OverheatDuration\"))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if object is currently performing an ammo reload.","fullName":"Is ammo reloading in progress","functionType":"Condition","group":"Reload","name":"IsReloadInProgress","sentence":"_PARAM0_ is reloading ammo","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyReloadInProgress"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if object is ready to shoot.","fullName":"Is ready to shoot","functionType":"Condition","group":"Firing","name":"IsReadyToShoot","sentence":"_PARAM0_ is ready to shoot","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check if ready to shoot","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Verify that the gun has ammo","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsOutOfAmmo"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Verify that the gun does not need to be reloaded and is not currently reloading","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsReloadNeeded"},"parameters":["Object","Behavior",""]},{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsReloadInProgress"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Verify gun is not shooting sooner than the proper rate of fire","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsFiringCooldownActive"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Verify the gun is not overheated","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsOverheated"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if automatic reloading is enabled.","fullName":"Is automatic reloading enabled","functionType":"Condition","group":"Reload","name":"IsAutomaticReloadingEnabled","sentence":"Automatic reloading is enabled on_PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyAutomaticReloading"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if ammo is unlimited.","fullName":"Is ammo unlimited","functionType":"Condition","group":"Ammo","name":"IsUnlimitedAmmo","sentence":"_PARAM0_ has unlimited ammo","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyUnlimitedAmmo"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if object has no ammo available.","fullName":"Is out of ammo","functionType":"Condition","group":"Ammo","name":"IsOutOfAmmo","sentence":"_PARAM0_ is out of ammo","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FireBullet::FireBullet::IsUnlimitedAmmo"},"parameters":["Object","Behavior",""]},{"type":{"value":"FireBullet::FireBullet::PropertyAmmoQuantity"},"parameters":["Object","Behavior","=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if object needs to reload ammo.","fullName":"Is a reload needed","functionType":"Condition","group":"Reload","name":"IsReloadNeeded","sentence":"_PARAM0_ needs to reload ammo","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Shots per reload must not be \"0\"","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FireBullet::FireBullet::PropertyShotsPerReload"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"FireBullet::FireBullet::PropertyShotsBeforeNextReload"},"parameters":["Object","Behavior","=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if object is overheated.","fullName":"Is overheated","functionType":"Condition","group":"Overheat","name":"IsOverheated","sentence":"_PARAM0_ is overheated","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"FireBullet::FireBullet::PropertyHeatLevel"},"parameters":["Object","Behavior",">=","1"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::OverheatTimeLeft()",">","0"]}]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]},{"description":"Check if firing cooldown is active.","fullName":"Is firing cooldown active","functionType":"Condition","group":"Firing","name":"IsFiringCooldownActive","sentence":"Firing cooldown is active on _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::CooldownTimeLeft()",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FireBullet::FireBullet","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0.1","type":"Number","label":"Firing cooldown (seconds)","description":"Object cannot shoot while firing cooldown is active","group":"Shooting configuration","extraInformation":[],"hidden":false,"name":"FireCooldown"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"HasJustFired"},{"value":"45","type":"Number","label":"Firing arc (degrees)","description":"Multi-Fire bullets will be evenly spaced inside the Firing Arc","group":"Multi-Fire","extraInformation":[],"hidden":false,"name":"FiringArc"},{"value":"1","type":"Number","label":"Number of bullets created at once (Multi-Fire)","description":"Multi-Fire bullets will be evenly spaced inside the Firing Arc","group":"Multi-Fire","extraInformation":[],"hidden":false,"name":"BulletQuantity"},{"value":"0","type":"Number","label":"Angle variance (degrees)","description":"Used to simulate imperfect aim (Range: 0 to 180 degrees)","group":"Shooting configuration","extraInformation":[],"hidden":false,"name":"AngleVariance"},{"value":"true","type":"Boolean","label":"Rotate bullet to match trajectory","description":"","group":"Shooting configuration","extraInformation":[],"hidden":false,"name":"RotateBullet"},{"value":"0","type":"Number","label":"Ammo quantity (current)","description":"","group":"","extraInformation":[],"hidden":true,"name":"AmmoQuantity"},{"value":"0","type":"Number","label":"Shots per reload ","description":"Use 0 to disable reloading","group":"Reload","extraInformation":[],"hidden":false,"name":"ShotsPerReload"},{"value":"1","type":"Number","label":"Reloading duration (seconds)","description":"Object cannot shoot while reloading is in progress","group":"Reload","extraInformation":[],"hidden":false,"name":"ReloadDuration"},{"value":"0","type":"Number","label":"Max ammo ","description":"Use \"0\" to disable restrictions on ammo capacity","group":"Ammo","extraInformation":[],"hidden":false,"name":"MaxAmmo"},{"value":"0","type":"Number","label":"Shots before next reload","description":"","group":"","extraInformation":[],"hidden":true,"name":"ShotsBeforeNextReload"},{"value":"0","type":"Number","label":"Total shots fired","description":"Regardless of how many bullets are created, only 1 shot will be counted per frame","group":"","extraInformation":[],"hidden":true,"name":"TotalShotsFired"},{"value":"0","type":"Number","label":"Total bullets created","description":"","group":"","extraInformation":[],"hidden":true,"name":"TotalBulletsCreated"},{"value":"0","type":"Number","label":"Starting ammo","description":"","group":"Ammo","extraInformation":[],"hidden":false,"name":"StartingAmmo"},{"value":"0","type":"Number","label":"Total reloads completed","description":"","group":"","extraInformation":[],"hidden":true,"name":"TotalReloadsCompleted"},{"value":"true","type":"Boolean","label":"Unlimited ammo","description":"","group":"Ammo","extraInformation":[],"hidden":false,"name":"UnlimitedAmmo"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ReloadInProgress"},{"value":"0","type":"Number","label":"Heat increase per shot (Range: 0 to 1)","description":" Object is overheated when Heat reaches 1","group":"Overheat","extraInformation":[],"hidden":false,"name":"HeatIncreasePerShot"},{"value":"0","type":"Number","label":"Heat level (Range: 0 to 1)","description":"","group":"","extraInformation":[],"hidden":true,"name":"HeatLevel"},{"value":"true","type":"Boolean","label":"Reload automatically","description":"","group":"Reload","extraInformation":[],"hidden":false,"name":"AutomaticReloading"},{"value":"0","type":"Number","label":"Overheat duration (seconds) ","description":"Object cannot shoot while overheat duration is active","group":"Overheat","extraInformation":[],"hidden":false,"name":"OverheatDuration"},{"value":"0.1","type":"Number","label":"Linear cooling rate (per second)","description":"","group":"Overheat","extraInformation":[],"hidden":false,"name":"LinearCoolingRate"},{"value":"0.3","type":"Number","label":"Exponential cooling rate (per second)","description":"Exponential cooling happens faster when heat is high and slower when heat is low","group":"Overheat","extraInformation":["Linear","Exponential"],"hidden":false,"name":"ExponentialCoolingRate"},{"value":"","type":"String","label":"Layer the bullets are created on","description":"By default, bullets will be created on the base layer.","group":"Shooting configuration","extraInformation":[],"hidden":true,"name":"BulletLayer"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"RandomizedAngle"},{"value":"0","type":"Number","label":"Bullet speed variance (pixels/second)","description":"Bullet speed will be adjusted by a random value within this range (pixels/second)","group":"Multi-Fire","extraInformation":[],"hidden":false,"name":"BulletSpeedVariance"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Input","extensionNamespace":"","fullName":"Behavior Remapper","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWFscGhhLXctYm94LW91dGxpbmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSwxN0EyLDIgMCAwLDEgNywxNVY3SDlWMTVIMTFWOEgxM1YxNUgxNVY3SDE3VjE1QTIsMiAwIDAsMSAxNSwxN0g5TTUsM0gxOUEyLDIgMCAwLDEgMjEsNVYxOUEyLDIgMCAwLDEgMTksMjFINUEyLDIgMCAwLDEgMywxOVY1QTIsMiAwIDAsMSA1LDNNNSw1VjE5SDE5VjVINVoiIC8+PC9zdmc+","name":"BehaviorRemapper","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/alpha-w-box-outline.svg","shortDescription":"Quickly remap Behavior controls to different keys. ","version":"1.0.0","description":["Make sure to disable default controls unless you want two keys to do the same action.","","Actions have two versions. `custom` allow the movement keys to be changed to what ever you would like. `presets` provide a common key-bindings that can be selected from a list.","","### Available Presets:","","##### `WASD`","-\tW: Up","-\tA: Left","-\tS: Down","-\tD: Right","-\tSpace: Jump","","##### `ZQSD`","-\tZ: Up","-\tQ: Left","-\tS: Down","-\tD: Right","-\tSpace: Jump","","##### `Numpad` (Num lock must be disabled)","-\tNumpad Up: Up","-\tNumpad Left: Left","-\tNumpad Down: Down","-\tNumpad Right: Right","-\tNumpad Return/Enter: Jump","","##### `IJKL`","-\tI: Up","-\tJ: Left","-\tK: Down","-\tL: Right","-\tReturn/Enter: Jump",""],"origin":{"identifier":"BehaviorRemapper","name":"gdevelop-extension-store"},"tags":["remapper","key","bindings","presets","platformer","top-down"],"authorIds":["AlZ3D1xkH0QDao7T37VZZUeYNpn1"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Allows for the controls of a Top-Down behavior to be re-mapped via a single action.","fullName":"Remap Top-down","name":"RemapForTopdown","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyUp()"]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateUpKey"},"parameters":["Object","Topdown"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyLeft()"]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateLeftKey"},"parameters":["Object","Topdown"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyRight()"]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateRightKey"},"parameters":["Object","Topdown"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyDown()"]}],"actions":[{"type":{"value":"TopDownMovementBehavior::SimulateDownKey"},"parameters":["Object","Topdown"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"BehaviorRemapper::RemapForTopdown","type":"behavior"}],"objectGroups":[]},{"description":"Remaps Top-Down behavior controls to a custom control scheme.","fullName":"Remap Top-Down controls to a custom scheme","functionType":"Action","name":"SetCustom","sentence":"Remap controls of _PARAM0_: Up: _PARAM2_, Left: _PARAM3_, Down: _PARAM4_, Right: _PARAM5_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyUp"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"up\")"]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyLeft"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"left\")"]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyRight"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"right\")"]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyDown"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"down\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"BehaviorRemapper::RemapForTopdown","type":"behavior"},{"description":"Up key","name":"up","type":"key"},{"description":"Left key","name":"left","type":"key"},{"description":"Down key","name":"down","type":"key"},{"description":"Right key","name":"right","type":"key"}],"objectGroups":[]},{"description":"Remaps Top-Down behavior controls to a preset control scheme.","fullName":"Remap Top-Down controls to a preset","functionType":"Action","name":"SetPreset","sentence":"Remap controls of _PARAM0_ to preset _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"QWERTY bindings","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"WASD\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyUp"},"parameters":["Object","Behavior","=","\"w\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"a\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyDown"},"parameters":["Object","Behavior","=","\"s\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyRight"},"parameters":["Object","Behavior","=","\"d\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"AZERTY bindings","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"ZQSD\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyUp"},"parameters":["Object","Behavior","=","\"z\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"q\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyDown"},"parameters":["Object","Behavior","=","\"s\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyDown"},"parameters":["Object","Behavior","=","\"d\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Numpad bindings","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"Numpad\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyUp"},"parameters":["Object","Behavior","=","\"NumpadUp\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"NumpadLeft\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyDown"},"parameters":["Object","Behavior","=","\"NumpadDown\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyRight"},"parameters":["Object","Behavior","=","\"NumpadRight\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"QWERTY player 2 bindings ","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"IJKL\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyUp"},"parameters":["Object","Behavior","=","\"i\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"j\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyDown"},"parameters":["Object","Behavior","=","\"k\""]},{"type":{"value":"BehaviorRemapper::RemapForTopdown::SetPropertyRight"},"parameters":["Object","Behavior","=","\"l\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"BehaviorRemapper::RemapForTopdown","type":"behavior"},{"description":"Preset name","name":"options","supplementaryInformation":"[\"WASD\",\"ZQSD\",\"Numpad\",\"IJKL\"]","type":"stringWithSelector"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"w","type":"String","label":"Up key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Up"},{"value":"a","type":"String","label":"Left key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Left"},{"value":"d","type":"String","label":"Right key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Right"},{"value":"s","type":"String","label":"Down key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Down"},{"value":"","type":"Behavior","label":"","description":"","group":"","extraInformation":["TopDownMovementBehavior::TopDownMovementBehavior"],"hidden":false,"name":"Topdown"}],"sharedPropertyDescriptors":[]},{"description":"Allows for the controls of a platformer behavior to be re-mapped via a single action.","fullName":"Remap Platformer controls","name":"RemapForPlatformer","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyUp()"]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateUpKey"},"parameters":["Object","Platformer"]},{"type":{"value":"PlatformBehavior::SimulateLadderKey"},"parameters":["Object","Platformer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyLeft()"]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateLeftKey"},"parameters":["Object","Platformer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyRight()"]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateRightKey"},"parameters":["Object","Platformer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyDown()"]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateDownKey"},"parameters":["Object","Platformer"]},{"type":{"value":"PlatformBehavior::SimulateReleaseLadderKey"},"parameters":["Object","Platformer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyFromTextPressed"},"parameters":["","Object.Behavior::PropertyJump()"]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["Object","Platformer"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"BehaviorRemapper::RemapForPlatformer","type":"behavior"}],"objectGroups":[]},{"description":"Remaps Platformer behavior controls to a custom control scheme.","fullName":"Remap Platformer controls to a custom scheme","functionType":"Action","name":"SetCustom","sentence":"Remap controls of _PARAM0_: Up: _PARAM2_, Left: _PARAM3_, Down: _PARAM4_, Right: _PARAM5_, Jump: _PARAM6_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyUp"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"up\")"]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyLeft"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"left\")"]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyRight"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"right\")"]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyDown"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"down\")"]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyJump"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"jump\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"BehaviorRemapper::RemapForPlatformer","type":"behavior"},{"description":"Up key","name":"up","type":"key"},{"description":"Left key","name":"left","type":"key"},{"description":"Down key","name":"down","type":"key"},{"description":"Right key","name":"right","type":"key"},{"description":"Jump key","name":"jump","type":"key"}],"objectGroups":[]},{"description":"Remaps Platformer behavior controls to a preset control scheme.","fullName":"Remap Platformer controls to a preset","functionType":"Action","name":"SetPreset","sentence":"Remap controls of _PARAM0_ to preset _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"QWERTY bindings","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"WASD\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyUp"},"parameters":["Object","Behavior","=","\"w\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"a\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyDown"},"parameters":["Object","Behavior","=","\"s\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyRight"},"parameters":["Object","Behavior","=","\"d\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyJump"},"parameters":["Object","Behavior","=","\"Space\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"AZERTY bindings","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"ZQSD\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyUp"},"parameters":["Object","Behavior","=","\"z\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"q\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyDown"},"parameters":["Object","Behavior","=","\"s\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyRight"},"parameters":["Object","Behavior","=","\"d\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyJump"},"parameters":["Object","Behavior","=","\"Space\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Numpad bindings","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"Numpad\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyUp"},"parameters":["Object","Behavior","=","\"NumpadUp\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"NumpadLeft\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyDown"},"parameters":["Object","Behavior","=","\"NumpadDown\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyRight"},"parameters":["Object","Behavior","=","\"NumpadRight\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyJump"},"parameters":["Object","Behavior","=","\"NumpadReturn\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"QWERTY player 2 bindings ","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"options\")","=","\"IJKL\""]}],"actions":[{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyUp"},"parameters":["Object","Behavior","=","\"i\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyLeft"},"parameters":["Object","Behavior","=","\"j\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyDown"},"parameters":["Object","Behavior","=","\"k\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyRight"},"parameters":["Object","Behavior","=","\"l\""]},{"type":{"value":"BehaviorRemapper::RemapForPlatformer::SetPropertyJump"},"parameters":["Object","Behavior","=","\"Return\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"BehaviorRemapper::RemapForPlatformer","type":"behavior"},{"description":"Preset name","name":"options","supplementaryInformation":"[\"WASD\",\"ZQSD\",\"Numpad\",\"IJKL\"]","type":"stringWithSelector"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"String","label":"Up key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Up"},{"value":"","type":"String","label":"Left key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Left"},{"value":"","type":"String","label":"Down key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Down"},{"value":"","type":"String","label":"Right key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Right"},{"value":"","type":"String","label":"Jump key","description":"","group":"","extraInformation":[],"hidden":false,"name":"Jump"},{"value":"","type":"Behavior","label":"","description":"","group":"","extraInformation":["PlatformBehavior::PlatformerObjectBehavior"],"hidden":false,"name":"Platformer"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"Smooth Camera","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQsMTNoLTZjLTEuMSwwLTItMC45LTItMlY1YzAtMS4xLDAuOS0yLDItMmg2YzEuMSwwLDIsMC45LDIsMnY2QzI2LDEyLjEsMjUuMSwxMywyNCwxM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNiw4djEwYzAsMS4xLTAuOSwyLTIsMkg4Yy0xLjEsMC0yLTAuOS0yLTJWOGMwLTEuMSwwLjktMiwyLTJoOCIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjEiIGN5PSI4IiByPSIyIi8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxMSIgY3k9IjE2IiByPSIxIi8+DQo8cmVjdCB4PSI5IiB5PSI5IiBjbGFzcz0ic3QwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMSwyOSAyMSwyOSAxMSwyOSAxMSwyOSAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjE4LDIwIDE4LDI5IDE0LDI5IDE0LDIwICIvPg0KPHJlY3QgeD0iNyIgeT0iMyIgY2xhc3M9InN0MCIgd2lkdGg9IjQiIGhlaWdodD0iMyIvPg0KPC9zdmc+DQo=","name":"SmoothCamera","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Computers and Hardware/Computers and Hardware_camcoder_gopro_go_pro_camera.svg","shortDescription":"Smoothly scroll to follow an object.","version":"0.2.2","description":["The camera follows an object according to:","- a frame rate independent catch-up speed to make the scrolling from smooth to strong","- a maximum speed to do linear following ([open the project online](https://editor.gdevelop.io/?project=example://platformer-with-tilemap)) or slow down the camera when teleporting the object","- a follow-free zone to avoid scrolling on small movements","- an offset to see further in one direction","- an extra delay and catch-up speed to give an impression of speed (useful for dash)","- position forecasting and delay to simulate a cameraman response time","","A platformer dedicated behavior allows to switch of settings when the character is in air or on the floor. This can be used to stabilize the camera when jumping."],"origin":{"identifier":"SmoothCamera","name":"gdevelop-extension-store"},"tags":["camera","scrolling","follow","smooth"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Smoothly scroll to follow an object.","fullName":"Smooth Camera","name":"SmoothCamera","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update private properties through setters to check their values and initialize state.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetLeftwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyLeftwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetRightwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyRightwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyUpwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyDownwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetLeftwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyLeftwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetRightwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyRightwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyUpwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyDownwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaLeft"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaLeft()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaRight"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaRight()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaTop()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaBottom()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelay"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyCameraDelay()"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::PropertyIsCalledManually"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object. This action must be called after the object has moved for the frame.","fullName":"Move the camera closer","functionType":"Action","name":"MoveCameraCloser","sentence":"Move the camera closer to _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The camera following is called with an action, the call from doStepPreEvents must be disabled to avoid to do it twice.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIsCalledManually"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"SmoothCamera::SmoothCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object.","fullName":"Do move the camera closer","functionType":"Action","name":"DoMoveCameraCloser","private":true,"sentence":"Do move the camera closer _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Delaying and forecasting can be used at the same time.\nForecasting only use the positions that are older than the one used for delaying.\nThe behavior uses a position history that is split in 2 arrays:\n- one for delaying the position (from TimeFromStart to TimeFromStart - CamearDelay)\n- one for forecasting the position (from TimeFromStart - CamearDelay to TimeFromStart - CamearDelay - ForecastHistoryDuration","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::UpdateDelayedPosition"},"parameters":["Object","Behavior",""]},{"type":{"value":"SmoothCamera::SmoothCamera::UpdateForecastedPosition"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"At each frame, the camera must catchup the target by a given ratio (speed)\ncameraX(t) - targetX = (cameraX(t - 1) - targetX) * speed\n\nThe frame rate must not impact on the catch-up speed, we don't want a speed in ratio per frame but a speed ratio per second, like this:\ncameraX(t) - targetX = (cameraX(t - 1s) - targetX) * speed\n\nOk, but we still need to process each frame, we can use a exponent for this:\ncameraX(t) - targetX = (cameraX(t - timeDelta) - targetX) * speed^timeDelta\ncameraX(t) = targetX + (cameraX(t - timeDelta) - targetX) * exp(timeDelta * ln(speed))\n\npow is probably more efficient than precalculated log if the speed is changed continuously but this might be rare enough.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowOnX"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyOldX"},"parameters":["Object","Behavior","=","CameraX(Object.Layer(), 0)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["",">","Object.Behavior::FreeAreaRight()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::FreeAreaRight()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaRight())\n* exp(TimeDelta() * Object.Behavior::PropertyLogLeftwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["","<","Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["","<","Object.Behavior::FreeAreaLeft()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::FreeAreaLeft()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaLeft())\n* exp(TimeDelta() * Object.Behavior::PropertyLogRightwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["",">","Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowOnY"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyOldY"},"parameters":["Object","Behavior","=","CameraY(Object.Layer(), 0)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["",">","Object.Behavior::FreeAreaBottom()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::FreeAreaBottom()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaBottom())\n* exp(TimeDelta() * Object.Behavior::PropertyLogUpwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["","<","Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["","<","Object.Behavior::FreeAreaTop()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::FreeAreaTop()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaTop())\n* exp(TimeDelta() * Object.Behavior::PropertyLogDownwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["",">","Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Delay the camera according to a maximum speed and catch up the delay.","fullName":"Wait and catch up","functionType":"Action","name":"WaitAndCatchUp","sentence":"Delay the camera of _PARAM0_ during: _PARAM2_ seconds according to the maximum speed _PARAM3_;_PARAM4_ seconds and catch up in _PARAM5_ seconds","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Maybe the catch-up show be done in constant pixel speed instead of constant time speed.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyWaitingEnd"},"parameters":["Object","Behavior","=","TimeFromStart() + GetArgumentAsNumber(\"WaitingDuration\")"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedXMax"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"WaitingSpeedXMax\")"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedYMax"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"WaitingSpeedYMax\")"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"CatchUpDuration\")"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Wait and catch up\"","\"info\"","\"SmoothCamera\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Waiting duration (in seconds)","name":"WaitingDuration","type":"expression"},{"description":"Waiting maximum camera target speed X","name":"WaitingSpeedXMax","type":"expression"},{"description":"Waiting maximum camera target speed Y","name":"WaitingSpeedYMax","type":"expression"},{"description":"Catch up duration (in seconds)","name":"CatchUpDuration","type":"expression"}],"objectGroups":[]},{"description":"Draw the targeted and actual camera position.","fullName":"Draw debug","functionType":"Action","name":"DrawDebug","sentence":"Draw targeted and actual camera position for _PARAM0_ on _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["ShapePainter","=","0"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Path used by the forecasting","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",">","0"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"PrimitiveDrawing::OutlineColor"},"parameters":["ShapePainter","\"245;166;35\""]},{"type":{"value":"PrimitiveDrawing::BeginFillPath"},"parameters":["ShapePainter","Object.Variable(__SmoothCamera.ForecastHistoryX[0])","Object.Variable(__SmoothCamera.ForecastHistoryY[0])"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::PathLineTo"},"parameters":["ShapePainter","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()])","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::EndFillPath"},"parameters":["ShapePainter"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Follow-free area.","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaLeft"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaRight"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaBottom"},"parameters":["Object","Behavior","!=","0"]}]}],"actions":[{"type":{"value":"PrimitiveDrawing::OutlineColor"},"parameters":["ShapePainter","\"126;211;33\""]},{"type":{"value":"PrimitiveDrawing::Rectangle"},"parameters":["ShapePainter","Object.Behavior::FreeAreaLeft() - 1","Object.Behavior::FreeAreaTop() - 1","Object.Behavior::FreeAreaRight() + 1","Object.Behavior::FreeAreaBottom() + 1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Linear regression vector used by the forecasting.","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::OutlineColor"},"parameters":["ShapePainter","\"208;2;27\""]},{"type":{"value":"PrimitiveDrawing::LineV2"},"parameters":["ShapePainter","Object.Behavior::PropertyProjectedOldestX()","Object.Behavior::PropertyProjectedOldestY()","Object.Behavior::PropertyProjectedNewestX()","Object.Behavior::PropertyProjectedNewestY()","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Targeted and actual camera position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::Circle"},"parameters":["ShapePainter","Object.Behavior::PropertyForecastedX()","Object.Behavior::PropertyForecastedY()","3"]},{"type":{"value":"PrimitiveDrawing::LineV2"},"parameters":["ShapePainter","CameraX(Object.Layer(), 0)","CameraY(Object.Layer(), 0) - 4","CameraX(Object.Layer(), 0)","CameraY(Object.Layer(), 0) + 4","1"]},{"type":{"value":"PrimitiveDrawing::LineV2"},"parameters":["ShapePainter","CameraX(Object.Layer(), 0) - 4","CameraY(Object.Layer(), 0)","CameraX(Object.Layer(), 0) + 4","CameraY(Object.Layer(), 0)","1"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Shape painter","name":"ShapePainter","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"objectList"}],"objectGroups":[]},{"description":"Enable or disable the following on X axis.","fullName":"Follow on X","functionType":"Action","group":"Camera configuration","name":"SetFollowOnX","sentence":"The camera follows _PARAM0_ on X axis: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnX"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"FollowOnX\""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnX"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow on X axis","name":"FollowOnX","type":"yesorno"}],"objectGroups":[]},{"description":"Enable or disable the following on Y axis.","fullName":"Follow on Y","functionType":"Action","group":"Camera configuration","name":"SetFollowOnY","sentence":"The camera follows _PARAM0_ on Y axis: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnY"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"FollowOnY\""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnY"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow on Y axis","name":"FollowOnY","type":"yesorno"}],"objectGroups":[]},{"description":"Change the camera follow free area right border.","fullName":"Follow free area right border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaRight","sentence":"Change the camera follow free area right border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"SetFollowFreeAreaRight\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area right border","name":"SetFollowFreeAreaRight","type":"expression"}],"objectGroups":[]},{"description":"Change the camera follow free area left border.","fullName":"Follow free area left border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaLeft","sentence":"Change the camera follow free area left border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"SetFollowFreeAreaLeft\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area left border","name":"SetFollowFreeAreaLeft","type":"expression"}],"objectGroups":[]},{"description":"Change the camera follow free area top border.","fullName":"Follow free area top border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaTop","sentence":"Change the camera follow free area top border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"FollowFreeAreaTop\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area top border","name":"FollowFreeAreaTop","type":"expression"}],"objectGroups":[]},{"description":"Change the camera follow free area bottom border.","fullName":"Follow free area bottom border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaBottom","sentence":"Change the camera follow free area bottom border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaBottom"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"SetFollowFreeAreaBottom\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area bottom border","name":"SetFollowFreeAreaBottom","type":"expression"}],"objectGroups":[]},{"description":"Change the camera leftward maximum speed (in pixels per second).","fullName":"Leftward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetLeftwardSpeedMax","sentence":"Change the camera leftward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Leftward maximum speed (in ratio per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera rightward maximum speed (in pixels per second).","fullName":"Rightward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetRightwardSpeedMax","sentence":"Change the camera rightward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Rightward maximum speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera upward maximum speed (in pixels per second).","fullName":"Upward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetUpwardSpeedMax","sentence":"Change the camera upward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyUpwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Upward maximum speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera downward maximum speed (in pixels per second).","fullName":"Downward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetDownwardSpeedMax","sentence":"Change the camera downward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDownwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Downward maximum speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera leftward catch-up speed (in ratio per second).","fullName":"Leftward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetLeftwardSpeed","sentence":"Change the camera leftward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"LeftwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogLeftwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyLeftwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Leftward catch-up speed (in ratio per second)","name":"LeftwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera rightward catch-up speed (in ratio per second).","fullName":"Rightward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetRightwardSpeed","sentence":"Change the camera rightward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyRightwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"RightwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogRightwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyRightwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Rightward catch-up speed (in ratio per second)","name":"RightwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera downward catch-up speed (in ratio per second).","fullName":"Downward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetDownwardSpeed","sentence":"Change the camera downward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDownwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"DownwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogDownwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyDownwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Downward catch-up speed (in ratio per second)","name":"DownwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera upward catch-up speed (in ratio per second).","fullName":"Upward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetUpwardSpeed","sentence":"Change the camera upward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyUpwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"UpwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogUpwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyUpwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Upward catch-up speed (in ratio per second)","name":"UpwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera offset on X axis of an object.","fullName":"Camera Offset X","functionType":"Action","group":"Camera configuration","name":"SetOffsetX","sentence":"Change the camera offset on X axis of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraOffsetX"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"CameraOffsetX\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Camera offset X","name":"CameraOffsetX","type":"expression"}],"objectGroups":[]},{"description":"Change the camera offset on Y axis of an object.","fullName":"Camera Offset Y","functionType":"Action","group":"Camera configuration","name":"SetOffsetY","sentence":"Change the camera offset on Y axis of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraOffsetY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"CameraOffsetY\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Camera offset Y","name":"CameraOffsetY","type":"expression"}],"objectGroups":[]},{"description":"Change the camera forecast time (in seconds).","fullName":"Forecast time","functionType":"Action","group":"Camera configuration","name":"SetForecastTime","sentence":"Change the camera forecast time of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastTime"},"parameters":["Object","Behavior","=","min(0, GetArgumentAsNumber(\"ForecastTime\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Forecast time","name":"ForecastTime","type":"expression"}],"objectGroups":[]},{"description":"Change the camera delay (in seconds).","fullName":"Camera delay","functionType":"Action","group":"Camera configuration","name":"SetCameraDelay","sentence":"Change the camera delay of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelay"},"parameters":["Object","Behavior","=","min(0, GetArgumentAsNumber(\"CameraDelay\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Camera delay","name":"CameraDelay","type":"expression"}],"objectGroups":[]},{"description":"Return follow free area left border X.","fullName":"Free area left","functionType":"Expression","group":"Private","name":"FreeAreaLeft","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() - Object.Behavior::PropertyFollowFreeAreaLeft()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area right border X.","fullName":"Free area right","functionType":"Expression","group":"Private","name":"FreeAreaRight","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() + Object.Behavior::PropertyFollowFreeAreaRight()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area bottom border Y.","fullName":"Free area bottom","functionType":"Expression","group":"Private","name":"FreeAreaBottom","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() + Object.Behavior::PropertyFollowFreeAreaBottom()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area top border Y.","fullName":"Free area top","functionType":"Expression","group":"Private","name":"FreeAreaTop","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() - Object.Behavior::PropertyFollowFreeAreaTop()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Update delayed position and delayed history. This is called in doStepPreEvents.","fullName":"Update delayed position","functionType":"Action","group":"Private","name":"UpdateDelayedPosition","private":true,"sentence":"Update delayed position and delayed history of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add the previous position to have enough (2) positions to evaluate the extra delay for waiting mode.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]},{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ObjectTime)","=","0"]}],"actions":[{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectTime","TimeFromStart()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectX","Object.Behavior::PropertyDelayedCenterX()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectY","Object.Behavior::PropertyDelayedCenterY()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Use the object center when no delay is asked.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"},"parameters":["Object","Behavior","=","Object.CenterX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"},"parameters":["Object","Behavior","=","Object.CenterY()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsDelayed"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::AddForecastHistoryPosition"},"parameters":["Object","Behavior","TimeFromStart()","Object.CenterX()","Object.CenterY()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::IsDelayed"},"parameters":["Object","Behavior",""]},{"type":{"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]}]}],"actions":[{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectTime","TimeFromStart()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectX","Object.CenterX()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectY","Object.CenterY()"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Remove history entries that are too old to be useful for delaying and pass it to the history for forecasting.","comment2":""},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ObjectTime)",">=","2"]},{"type":{"value":"VarObjet"},"parameters":["Object","__SmoothCamera.ObjectTime[1]","<","TimeFromStart() - Object.Behavior::CurrentDelay()"]}],"conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::AddForecastHistoryPosition"},"parameters":["Object","Behavior","Object.Variable(__SmoothCamera.ObjectTime[0])","Object.Variable(__SmoothCamera.ObjectX[0])","Object.Variable(__SmoothCamera.ObjectY[0])",""]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ObjectTime","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ObjectX","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ObjectY","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Don't move the camera if there is not enough history.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"},"parameters":["Object","Behavior","=","Object.Variable(__SmoothCamera.ObjectX[0])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"},"parameters":["Object","Behavior","=","Object.Variable(__SmoothCamera.ObjectY[0])"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ObjectTime)",">=","2"]},{"type":{"value":"VarObjet"},"parameters":["Object","__SmoothCamera.ObjectTime[0]","<","TimeFromStart() - Object.Behavior::CurrentDelay()"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add the extra delay that could be needed to respect the speed limit in waiting mode.\n\nspeedRatio = min(speedMaxX / historySpeedX, speedMaxY / historySpeedY)\ndelay += min(0, timeDelta * (1 - speedRatio))","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"},"parameters":["Object","Behavior","+","max(0, TimeDelta() * (1 - min(Object.Behavior::PropertyWaitingSpeedXMax() * abs(Object.Variable(__SmoothCamera.ObjectX[1]) - Object.Variable(__SmoothCamera.ObjectX[0])), Object.Behavior::PropertyWaitingSpeedYMax() * abs(Object.Variable(__SmoothCamera.ObjectY[1]) - Object.Variable(__SmoothCamera.ObjectY[0]))) / (Object.Variable(__SmoothCamera.ObjectTime[1]) - Object.Variable(__SmoothCamera.ObjectTime[0]))))"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Extra delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())","\"info\"","\"SmoothCamera\""]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The time with delay is now between the first 2 indexes","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"},"parameters":["Object","Behavior","=","lerp(Object.Variable(__SmoothCamera.ObjectX[1]), Object.Variable(__SmoothCamera.ObjectX[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera.ObjectTime[1])) / (Object.Variable(__SmoothCamera.ObjectTime[0]) - Object.Variable(__SmoothCamera.ObjectTime[1])))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"},"parameters":["Object","Behavior","=","lerp(Object.Variable(__SmoothCamera.ObjectY[1]), Object.Variable(__SmoothCamera.ObjectY[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera.ObjectTime[1])) / (Object.Variable(__SmoothCamera.ObjectTime[0]) - Object.Variable(__SmoothCamera.ObjectTime[1])))"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsDelayed"},"parameters":["Object","Behavior",""]},{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__SmoothCamera.ObjectTime"]},{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__SmoothCamera.ObjectX"]},{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__SmoothCamera.ObjectY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpSpeed"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyCameraExtraDelay() / Object.Behavior::PropertyCameraDelayCatchUpDuration()"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Start to catch up\"","\"info\"","\"SmoothCamera\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyCameraExtraDelay"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"},"parameters":["Object","Behavior","=","max(0, Object.Behavior::PropertyCameraExtraDelay() -Object.Behavior::PropertyCameraDelayCatchUpSpeed() * TimeDelta())"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Catching up delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())","\"info\"","\"SmoothCamera\""]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Check if the camera following target is delayed from the object.","fullName":"Camera is delayed","functionType":"Condition","name":"IsDelayed","private":true,"sentence":"The camera of _PARAM0_ is delayed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Behavior::CurrentDelay()",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return the current camera delay.","fullName":"Current delay","functionType":"Expression","name":"CurrentDelay","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyCameraDelay() + Object.Behavior::PropertyCameraExtraDelay()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Check if the camera following is waiting at a reduced speed.","fullName":"Camera is waiting","functionType":"Condition","name":"IsWaiting","private":true,"sentence":"The camera of _PARAM0_ is waiting","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyWaitingEnd"},"parameters":["Object","Behavior",">","TimeFromStart()"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Add a position to the history for forecasting. This is called 2 times in UpadteDelayedPosition.","fullName":"Add forecast history position","functionType":"Action","group":"Private","name":"AddForecastHistoryPosition","private":true,"sentence":"Add the time:_PARAM2_ and position: _PARAM3_; _PARAM4_ to the forecast history of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastTime"},"parameters":["Object","Behavior",">","0"]}]}],"actions":[{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ForecastHistoryTime","GetArgumentAsNumber(\"Time\")"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ForecastHistoryX","GetArgumentAsNumber(\"ObjectX\")"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ForecastHistoryY","GetArgumentAsNumber(\"ObjectY\")"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Remove history entries that are too old to be useful.\nKeep at least 2 positions because no forecast can be done with less positions.","comment2":""},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",">=","3"]},{"type":{"value":"VarObjet"},"parameters":["Object","__SmoothCamera.ForecastHistoryTime[0]","<","TimeFromStart() - Object.Behavior::PropertyCameraDelay() - Object.Behavior::PropertyCameraExtraDelay() - Object.Behavior::PropertyForecastHistoryDuration()"]}],"conditions":[],"actions":[{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ForecastHistoryTime","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ForecastHistoryX","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ForecastHistoryY","0"]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Time","name":"Time","type":"expression"},{"description":"Object X","name":"ObjectX","type":"expression"},{"description":"Object Y","name":"ObjectY","type":"expression"}],"objectGroups":[]},{"description":"Update forecasted position. This is called in doStepPreEvents.","fullName":"Update forecasted position","functionType":"Action","group":"Private","name":"UpdateForecastedPosition","private":true,"sentence":"Update forecasted position of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterY()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Simple linear regression\ny = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX\n\nNote than we could use only one position every N positions to reduce the process time,\nbut if we really need efficient process JavaScript and circular queues are a must.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",">=","2"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastTime"},"parameters":["Object","Behavior",">","0"]}]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Mean X","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"},"parameters":["Object","Behavior","+","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"},"parameters":["Object","Behavior","/","Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Mean Y","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryY)","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"},"parameters":["Object","Behavior","+","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"},"parameters":["Object","Behavior","/","Object.VariableChildCount(__SmoothCamera.ForecastHistoryY)"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Mean: \" + ToString(Object.Behavior::PropertyForecastHistoryMeanX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryMeanY())","",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Variance and Covariance","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"VarianceX = sum((X[i] - MeanX)²)\nVarianceY = sum((Y[i] - MeanY)²)\nCovariance = sum((X[i] - MeanX) * (Y[i] - MeanY))","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"},"parameters":["Object","Behavior","+","pow(Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX(), 2)"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"},"parameters":["Object","Behavior","+","pow(Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY(), 2)"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"},"parameters":["Object","Behavior","+","(Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX())\n*\n(Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY())"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Variances: \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceY()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryCovariance())","\"info\"","\"SmoothCamera\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())","<","1"]},{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceY())","<","1"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterY()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())",">=","1"]},{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceY())",">=","1"]}]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Linear function parameters","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"y = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())",">=","abs(Object.Behavior::PropertyForecastHistoryVarianceY())"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryMeanY() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanX()"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())","\"info\"","\"SmoothCamera\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Projection","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::ProjectHistoryEnds"},"parameters":["Object","Behavior","Object.Variable(__SmoothCamera.ForecastHistoryX[0])","Object.Variable(__SmoothCamera.ForecastHistoryY[0])","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.VariableChildCount(__SmoothCamera.ForecastHistoryX) - 1])","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.VariableChildCount(__SmoothCamera.ForecastHistoryY) - 1])",""]}]}],"parameters":[]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Axis permutation to avoid a ratio between 2 numbers near 0.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())","<","abs(Object.Behavior::PropertyForecastHistoryVarianceY())"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceY()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryMeanX() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanY()"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())","\"info\"","\"SmoothCamera\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Projection","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::ProjectHistoryEnds"},"parameters":["Object","Behavior","Object.Variable(__SmoothCamera.ForecastHistoryY[0])","Object.Variable(__SmoothCamera.ForecastHistoryX[0])","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.VariableChildCount(__SmoothCamera.ForecastHistoryY) - 1])","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.VariableChildCount(__SmoothCamera.ForecastHistoryX) - 1])",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Permute back axis","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedOldestX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedOldestY()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyIndex()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestY()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyIndex()"]}]}],"parameters":[]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Oldest: \" + ToString(Object.Behavior::PropertyProjectedOldestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedOldestY())","\"info\"","\"SmoothCamera\""]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Newest: \" + ToString(Object.Behavior::PropertyProjectedNewestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedNewestY())","\"info\"","\"SmoothCamera\""]}]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Forecasted position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestX() + ( Object.Behavior::PropertyProjectedNewestX() - Object.Behavior::PropertyProjectedOldestX()) * Object.Behavior::ForecastTimeRatio()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestY() + ( Object.Behavior::PropertyProjectedNewestY() - Object.Behavior::PropertyProjectedOldestY()) * Object.Behavior::ForecastTimeRatio()"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Forecasted: \" + ToString(Object.Behavior::PropertyForecastedX()) + \" \" + ToString(Object.Behavior::PropertyForecastedY())","\"info\"","\"SmoothCamera\""]}]}],"parameters":[]}],"parameters":[]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Project history ends position to have the vector on the line from linear regression. This function is only called by UpdateForecastedPosition.","fullName":"Project history ends","functionType":"Action","group":"Private","name":"ProjectHistoryEnds","private":true,"sentence":"Project history oldest: _PARAM2_;_PARAM3_ and newest position: _PARAM4_;_PARAM5_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Perpendicular line:\npA = -1/a; \npB = -pA * x + y\n\nIntersection:\n/ ProjectedY = a * ProjectedX + b\n\\ ProjectedY = pA * ProjectedX + b\n\nSolution that is cleaned out from indeterminism (like 0 / 0 or infinity / infinity):\nProjectedX= (x + (y - b) * a) / (a² + 1)\nProjectedY = y + (x * a - y + b) / (a² + 1)","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"},"parameters":["Object","Behavior","=","(GetArgumentAsNumber(\"NewestX\") + (GetArgumentAsNumber(\"NewestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"NewestY\") + (GetArgumentAsNumber(\"NewestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"NewestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"},"parameters":["Object","Behavior","=","(GetArgumentAsNumber(\"OldestX\") + (GetArgumentAsNumber(\"OldestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"OldestY\") + (GetArgumentAsNumber(\"OldestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"OldestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"OldestX","name":"OldestX","type":"expression"},{"description":"OldestY","name":"OldestY","type":"expression"},{"description":"Newest X","name":"NewestX","type":"expression"},{"description":"Newest Y","name":"NewestY","type":"expression"}],"objectGroups":[]},{"description":"Return the ratio between forecast time and the duration of the history. This function is only called by UpdateForecastedPosition.","fullName":"Forecast time ratio","functionType":"Expression","group":"Private","name":"ForecastTimeRatio","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["- Object.Behavior::PropertyForecastTime() / (Object.Variable(__SmoothCamera.ForecastHistoryTime[0]) - Object.Variable(__SmoothCamera.ForecastHistoryTime[Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime) - 1]))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0.9","type":"Number","label":"Leftward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"LeftwardSpeed"},{"value":"0.9","type":"Number","label":"Rightward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"RightwardSpeed"},{"value":"0.9","type":"Number","label":"Upward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"UpwardSpeed"},{"value":"0.9","type":"Number","label":"Downward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"DownwardSpeed"},{"value":"true","type":"Boolean","label":"Follow on X axis","description":"","group":"","extraInformation":[],"hidden":false,"name":"FollowOnX"},{"value":"true","type":"Boolean","label":"Follow on Y axis","description":"","group":"","extraInformation":[],"hidden":false,"name":"FollowOnY"},{"value":"0","type":"Number","label":"Follow free area left border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaLeft"},{"value":"0","type":"Number","label":"Follow free area right border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaRight"},{"value":"0","type":"Number","label":"Follow free area top border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaTop"},{"value":"0","type":"Number","label":"Follow free area bottom border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaBottom"},{"value":"0","type":"Number","label":"Camera offset X","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"CameraOffsetX"},{"value":"0","type":"Number","label":"Camera offset Y","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"CameraOffsetY"},{"value":"0","type":"Number","label":"Camera delay (in seconds)","description":"","group":"Timing","extraInformation":[],"hidden":false,"name":"CameraDelay"},{"value":"0","type":"Number","label":"Forecast time (in seconds)","description":"","group":"Timing","extraInformation":[],"hidden":false,"name":"ForecastTime"},{"value":"0","type":"Number","label":"Forecast history duration (in seconds)","description":"","group":"Timing","extraInformation":[],"hidden":false,"name":"ForecastHistoryDuration"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogLeftwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogRightwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogDownwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogUpwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DelayedCenterX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DelayedCenterY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryMeanX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryMeanY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryVarianceX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryCovariance"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryLinearA"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryLinearB"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastedX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastedY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedNewestX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedNewestY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedOldestX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedOldestY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryVarianceY"},{"value":"","type":"Number","label":"Index (local variable)","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraDelayCatchUpSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraExtraDelay"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WaitingSpeedXMax"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WaitingSpeedYMax"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WaitingEnd"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraDelayCatchUpDuration"},{"value":"9000","type":"Number","label":"Leftward maximum speed (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"LeftwardSpeedMax"},{"value":"9000","type":"Number","label":"Rightward maximum speed (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"RightwardSpeedMax"},{"value":"9000","type":"Number","label":"Upward maximum speed (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"UpwardSpeedMax"},{"value":"9000","type":"Number","label":"Downward maximum speed (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"DownwardSpeedMax"},{"value":"","type":"Number","label":"OldX (local variable)","description":"","group":"","extraInformation":[],"hidden":true,"name":"OldX"},{"value":"","type":"Number","label":"OldY (local variable)","description":"","group":"","extraInformation":[],"hidden":true,"name":"OldY"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsCalledManually"}],"sharedPropertyDescriptors":[]},{"description":"Smoothly scroll to follow a character and stabilize the camera when jumping.","fullName":"Smooth platformer camera","name":"SmoothPlatformerCamera","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PlatformBehavior::IsJumping"},"parameters":["Object","PlatformerCharacter"]},{"type":{"inverted":true,"value":"PlatformBehavior::IsFalling"},"parameters":["Object","PlatformerCharacter"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorFollowFreeAreaTop()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorFollowFreeAreaBottom()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorUpwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorDownwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorUpwardSpeedMax()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorDownwardSpeedMax()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"PlatformBehavior::IsJumping"},"parameters":["Object","PlatformerCharacter"]},{"type":{"value":"PlatformBehavior::IsFalling"},"parameters":["Object","PlatformerCharacter"]}]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirFollowFreeAreaTop()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirFollowFreeAreaBottom()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirUpwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirDownwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirUpwardSpeedMax()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirDownwardSpeedMax()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothPlatformerCamera","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Platformer character behavior","description":"","group":"","extraInformation":["PlatformBehavior::PlatformerObjectBehavior"],"hidden":false,"name":"PlatformerCharacter"},{"value":"","type":"Behavior","label":"Smooth camera behavior","description":"","group":"","extraInformation":["SmoothCamera::SmoothCamera"],"hidden":false,"name":"SmoothCamera"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"JumpOriginY"},{"value":"0","type":"Number","label":"Follow free area top in the air","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"AirFollowFreeAreaTop"},{"value":"0","type":"Number","label":"Follow free area bottom in the air","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"AirFollowFreeAreaBottom"},{"value":"0","type":"Number","label":"Follow free area top on the floor","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FloorFollowFreeAreaTop"},{"value":"0","type":"Number","label":"Follow free area bottom on the floor","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FloorFollowFreeAreaBottom"},{"value":"0.95","type":"Number","label":"Upward speed in the air (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"AirUpwardSpeed"},{"value":"0.95","type":"Number","label":"Downward speed in the air (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"AirDownwardSpeed"},{"value":"0.9","type":"Number","label":"Upward speed on the floor (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"FloorUpwardSpeed"},{"value":"0.9","type":"Number","label":"Downward speed on the floor (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"FloorDownwardSpeed"},{"value":"9000","type":"Number","label":"Upward maximum speed in the air (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"AirUpwardSpeedMax"},{"value":"9000","type":"Number","label":"Downward maximum speed in the air (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"AirDownwardSpeedMax"},{"value":"9000","type":"Number","label":"Upward maximum speed on the floor (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"FloorUpwardSpeedMax"},{"value":"9000","type":"Number","label":"Downward maximum speed on the floor (in pixels per second)","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"FloorDownwardSpeedMax"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"Westboy31","category":"Visual effect","extensionNamespace":"","fullName":"Flash and transition painter","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLW1vdmllLWZpbHRlciIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xOCA0TDIwIDdIMTdMMTUgNEgxM0wxNSA3SDEyTDEwIDRIOEwxMCA3SDdMNSA0SDRDMi45IDQgMiA0LjkgMiA2TDIgMThDMiAxOS4xIDIuOSAyMCA0IDIwSDIwQzIxLjEgMjAgMjIgMTkuMSAyMiAxOFY0SDE4TTExLjI1IDE1LjI1TDEwIDE4TDguNzUgMTUuMjVMNiAxNEw4Ljc1IDEyLjc1TDEwIDEwTDExLjI1IDEyLjc1TDE0IDE0TDExLjI1IDE1LjI1TTE2Ljk0IDExLjk0TDE2IDE0TDE1LjA2IDExLjk0TDEzIDExTDE1LjA2IDEwLjA2TDE2IDhMMTYuOTQgMTAuMDZMMTkgMTFMMTYuOTQgMTEuOTRaIiAvPjwvc3ZnPg==","name":"FlashTransitionPainter","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/movie-filter.svg","shortDescription":"Behavior for shape painter allows you to paint a color all over the screen for period of time with an effect (useful for simulate flash and transition effect).","version":"0.1.0","description":["* __Paint effect:__Action to paint a color all over the screen for a period of time with specific effect.","effect type:","  * __Flash:__ is a monochrome color appear with fade then disappear with fade out.","  * __Vertical:__ is a monochrome color comes from right side then comes back.","  * __Horizontal:__ is a monochrome color come from top side then comes back.","  * __Circular:__ is a circle which increases from the center and narrows.","* __Paint effect ended:__ event when the paint effect ends."],"origin":{"identifier":"FlashTransitionPainter","name":"gdevelop-extension-store"},"tags":["shape painter","flash","transition","effect"],"authorIds":[],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Paint all over the screen a color for a period of time.","fullName":"Flash and transition painter","name":"FlashTransitionPainter","objectType":"PrimitiveDrawing::Drawer","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Disable effect when the game starts.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]},{"type":{"value":"PauseObjectTimer"},"parameters":["Object","\"__FlashTransitionPainter_timerEffect\""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FlashTransitionPainter::FlashTransitionPainter","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Avoid default parameter of painter that could make the extension doesn't work.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PrimitiveDrawing::ClearBetweenFrames"},"parameters":["Object","yes"]},{"type":{"value":"PrimitiveDrawing::OutlineSize"},"parameters":["Object","=","0"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__FlashTransitionPainter_timerEffect\""]},{"type":{"value":"UnPauseObjectTimer"},"parameters":["Object","\"__FlashTransitionPainter_timerEffect\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Initialise position of painter. \nIncrement or decrement \"_TimeProgressionEffect\" depending on direction.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["Object","=","CameraX(Object.Layer(),0) - SceneWindowWidth()/2","=","CameraY(Object.Layer(),0) - SceneWindowHeight()/2"]},{"type":{"value":"PrimitiveDrawing::FillColor"},"parameters":["Object","Object.Behavior::PropertyColor()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_TimeProgressionEffect","+","(TimeDelta() / Object.Behavior::PropertyTimer())*Object.Variable(__FlashTransitionPainter_ReverseDirection)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Here this the paints functions of different effect depending on the type chosen by the user.\nDetect the direction of the animation and its end.","comment2":""},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Type 1 : flash effect. ","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyType"},"parameters":["Object","Behavior","=","\"\""]},{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyType"},"parameters":["Object","Behavior","=","\"Flash\""]}]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_OpacityFlash",">=","Object.Behavior::PropertyMaxOpacity()"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ReverseDirection","=","-1"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Forward\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_OpacityFlash","<","0"]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_OpacityFlash","=","lerp(0, Object.Behavior::PropertyMaxOpacity(), Object.Variable(__FlashTransitionPainter_TimeProgressionEffect))"]},{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["Object","=","Object.Variable(__FlashTransitionPainter_OpacityFlash)"]},{"type":{"value":"PrimitiveDrawing::Rectangle"},"parameters":["Object","CameraX(Object.Layer(),0) - SceneWindowWidth()/2","CameraY(Object.Layer(),0) - SceneWindowHeight()/2","SceneWindowWidth()","SceneWindowHeight()"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Type 2 : screen come from top then return.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyType"},"parameters":["Object","Behavior","=","\"Horizontal\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveWidth",">=","SceneWindowWidth()"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ReverseDirection","=","-1"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Forward\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveWidth","<","0"]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdge","=","10"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdgeOpacity","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveWidth","=","lerp(0,SceneWindowWidth(),Object.Variable(__FlashTransitionPainter_TimeProgressionEffect))"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"5","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdge","-","2"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdgeOpacity","+","51"]},{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["Object","=","Object.Variable(__FlashTransitionPainter_SmoothEdgeOpacity)"]},{"type":{"value":"PrimitiveDrawing::Rectangle"},"parameters":["Object","0","0","Object.Variable(__FlashTransitionPainter_ProgressiveWidth) + Object.Variable(__FlashTransitionPainter_SmoothEdge)","SceneWindowHeight()"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Type 3 : screen come from left then return.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyType"},"parameters":["Object","Behavior","=","\"Vertical\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveHeight",">=","SceneWindowHeight()"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ReverseDirection","=","-1"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Forward\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveHeight","<","0"]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdge","=","10"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdgeOpacity","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveHeight","=","lerp(0,SceneWindowHeight(),Object.Variable(__FlashTransitionPainter_TimeProgressionEffect))"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"5","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdge","-","2"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdgeOpacity","+","51"]},{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["Object","=","Object.Variable(__FlashTransitionPainter_SmoothEdgeOpacity)"]},{"type":{"value":"PrimitiveDrawing::Rectangle"},"parameters":["Object","0","0","SceneWindowWidth()","Object.Variable(__FlashTransitionPainter_ProgressiveHeight) + Object.Variable(__FlashTransitionPainter_SmoothEdge)"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Type 4 : a circle scale up from the middle then scale down.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyType"},"parameters":["Object","Behavior","=","\"Circular\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveWidth",">=","(sqrt (pow(SceneWindowHeight(),2) + pow(SceneWindowWidth(),2) )) /2    "]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ReverseDirection","=","-1"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Forward\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveWidth","<","0"]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdge","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdgeOpacity","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ProgressiveWidth","=","lerp(0,(sqrt (pow(SceneWindowHeight(),2) + pow(SceneWindowWidth(),2) ))/2    ,Object.Variable(__FlashTransitionPainter_TimeProgressionEffect))"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"5","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdge","-","0.2"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_SmoothEdgeOpacity","+","51"]},{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["Object","=","Object.Variable(__FlashTransitionPainter_SmoothEdgeOpacity)"]},{"type":{"value":"PrimitiveDrawing::Circle"},"parameters":["Object","SceneWindowWidth()/2","SceneWindowHeight()/2","Object.Variable(__FlashTransitionPainter_ProgressiveWidth) + Object.Variable(__FlashTransitionPainter_SmoothEdge)"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The repeat 5 times is used to have clean and smooth edges , especially for circle.\n","comment2":""}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FlashTransitionPainter::FlashTransitionPainter","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset variables.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_OpacityFlash","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ReverseDirection","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_TimeProgressionEffect","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FlashTransitionPainter::FlashTransitionPainter","type":"behavior"}],"objectGroups":[]},{"description":"Paint Effect.","fullName":"Paint Effect","functionType":"Action","name":"PaintEffect","sentence":"Paint effect type _PARAM4_ of _PARAM0_ with direction _PARAM5_ and color _PARAM2_ for _PARAM3_ seconds","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Initialise all variables and then activate the behavior.\nIf user doesn't assign value to color and type , we take the last value registred.\nIf user doesn't assign value to timer we take a default value (0.2).","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]},{"type":{"inverted":true,"value":"BehaviorActivated"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyTimer"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Timer\") + (3*TimeDelta())"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__FlashTransitionPainter_timerEffect\""]},{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyDirection"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Direction\")"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"Type\")","!=","\"\""]}],"actions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyType"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Type\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"Color\")","!=","\"\""]}],"actions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyColor"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Color\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyTimer"},"parameters":["Object","Behavior","=","0"]}],"actions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyTimer"},"parameters":["Object","Behavior","=","0.2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Both\""]}],"actions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyTimer"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Timer\")/2 + (3*TimeDelta())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"Direction\")","=","\"Backward\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_ReverseDirection","=","-1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__FlashTransitionPainter_TimeProgressionEffect","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"MaxOpacity\")","!=","0"]}],"actions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::SetPropertyMaxOpacity"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"MaxOpacity\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Object","Behavior","yes"]}]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FlashTransitionPainter::FlashTransitionPainter","type":"behavior"},{"description":"Color","name":"Color","type":"color"},{"description":"Duration","name":"Timer","type":"expression"},{"description":"Type of effect ","name":"Type","supplementaryInformation":"[\"Flash\",\"Horizontal\",\"Vertical\",\"Circular\"]","type":"stringWithSelector"},{"description":"Direction transition","name":"Direction","supplementaryInformation":"[\"Both\",\"Forward\",\"Backward\"]","type":"stringWithSelector"},{"description":"End opacity (only for flash)","name":"MaxOpacity","type":"expression"}],"objectGroups":[]},{"description":"Paint effect ended.","fullName":"Paint effect ended ","functionType":"Condition","name":"PaintEffectIsEnd","sentence":"When paint effect of _PARAM0_ ends","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Detect when the animation ends with a timer which is initialised in PaintEffect function.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Backward\""]},{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Forward\""]}]},{"type":{"value":"ObjectTimer"},"parameters":["Object","\"__FlashTransitionPainter_timerEffect\"","Object.Behavior::PropertyTimer() - (3*TimeDelta())"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlashTransitionPainter::FlashTransitionPainter::PropertyDirection"},"parameters":["Object","Behavior","=","\"Both\""]},{"type":{"value":"ObjectTimer"},"parameters":["Object","\"__FlashTransitionPainter_timerEffect\"","Object.Behavior::PropertyTimer()*2 - (3*TimeDelta())"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FlashTransitionPainter::FlashTransitionPainter","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"1","type":"Number","label":"Timer","description":"","group":"","extraInformation":[],"hidden":true,"name":"Timer"},{"value":"255;255;255","type":"String","label":"Color","description":"","group":"","extraInformation":[],"hidden":true,"name":"Color"},{"value":"","type":"String","label":"Type of effect ","description":"","group":"","extraInformation":[],"hidden":true,"name":"Type"},{"value":"","type":"String","label":"Direction of transition","description":"","group":"","extraInformation":[],"hidden":true,"name":"Direction"},{"value":"255","type":"Number","label":"The maximum of the opacity only for flash","description":"","group":"","extraInformation":[],"hidden":true,"name":"MaxOpacity"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"User interface","extensionNamespace":"","fullName":"Panel sprite button","helpPath":"/objects/button","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI5LDIzSDNjLTEuMSwwLTItMC45LTItMlYxMWMwLTEuMSwwLjktMiwyLTJoMjZjMS4xLDAsMiwwLjksMiwydjEwQzMxLDIyLjEsMzAuMSwyMywyOSwyM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMywxOUwxMywxOWMtMS4xLDAtMi0wLjktMi0ydi0yYzAtMS4xLDAuOS0yLDItMmgwYzEuMSwwLDIsMC45LDIsMnYyQzE1LDE4LjEsMTQuMSwxOSwxMywxOXoiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxOCIgeTE9IjEzIiB4Mj0iMTgiIHkyPSIxOSIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjIxIiB5MT0iMTMiIHgyPSIxOCIgeTI9IjE3Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMjEiIHkxPSIxOSIgeDI9IjE5IiB5Mj0iMTYiLz4NCjwvc3ZnPg0K","name":"PanelSpriteButton","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Interface Elements/Interface Elements_interface_ui_button_ok_cta_clock_tap.svg","shortDescription":"A button that can be customized.","version":"1.4.2","description":["The button can be customized with a background for each state and a label. It handles user interactions and a simple condition can be used to check if it is clicked.","","There are ready-to-use buttons in the asset-store [menu buttons pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=menu-buttons-menu-buttons)."],"origin":{"identifier":"PanelSpriteButton","name":"gdevelop-extension-store"},"tags":["button","ui"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"The finite state machine used internally by the button object.","fullName":"Button finite state machine","name":"ButtonFSM","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Finite state machine","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The \"Validated\" state only last one frame.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the cursor position is only checked once per frame.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyShouldCheckHovering"},"parameters":["Object","Behavior"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","MouseOnlyCursorX(Object.Layer(), 0)","MouseOnlyCursorY(Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Touches are always pressed, so ShouldCheckHovering doesn't matter.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)","TouchY(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch start","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Object.Behavior::PropertyIndex()), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Object.Behavior::PropertyIndex()), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Object.Behavior::PropertyIndex())"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply position changes","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch end","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasTouchEnded"},"parameters":["","Object.Behavior::PropertyTouchId()"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]},{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}]}],"parameters":[]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed outside with mouse or touch.","fullName":"Is held outside","functionType":"Condition","name":"IsPressedOutside","sentence":"_PARAM0_ is held outside","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"the touch id that is using the button or 0 if none.","fullName":"Touch id","functionType":"ExpressionAndCondition","name":"TouchId","sentence":"the touch id","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyTouchId()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"","description":"Should check hovering","group":"","extraInformation":[],"hidden":true,"name":"ShouldCheckHovering"},{"value":"Idle","type":"Choice","label":"State","description":"","group":"","extraInformation":["Idle","Hovered","PressedInside","PressedOutside","Validated"],"hidden":true,"name":"State"},{"value":"0","type":"Number","label":"Touch id","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Boolean","label":"Touch is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIsInside"},{"value":"","type":"Boolean","label":"Mouse is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"MouseIsInside"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[{"defaultName":"Button","description":"A button that can be customized.","fullName":"Button (panel sprite)","name":"PanelSpriteButton","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create one background instance for of each state.\nOnly the instance for the current state is shown.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Idle","0","0",""]},{"type":{"value":"Create"},"parameters":["","Hovered","0","0",""]},{"type":{"value":"Create"},"parameters":["","Pressed","0","0",""]},{"type":{"value":"Cache"},"parameters":["Hovered"]},{"type":{"value":"Cache"},"parameters":["Pressed"]},{"type":{"value":"ChangePlan"},"parameters":["Hovered","=","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Place the label over the backgrounds.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Label","0","0",""]},{"type":{"value":"ChangePlan"},"parameters":["Label","=","2"]},{"type":{"value":"TextObject::SetWrapping"},"parameters":["Label","yes"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Show the right background accordingly to the new state.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsIdle"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]},{"type":{"value":"Montre"},"parameters":["Idle",""]},{"type":{"value":"Cache"},"parameters":["Pressed"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Visible"},"parameters":["Hovered"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::PropertyHoveredFadeOutDuration"},"parameters":["Object",">","0"]}],"actions":[{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["Hovered","Tween","\"Fadeout\"","0","\"linear\"","Object.PropertyHoveredFadeOutDuration() * 1000",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::PropertyHoveredFadeOutDuration"},"parameters":["Object","=","0"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Hovered"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteObject::Opacity"},"parameters":["Hovered","=","0"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Hovered"]},{"type":{"value":"PanelSpriteObject::SetOpacity"},"parameters":["Hovered","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsHovered"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]},{"type":{"value":"Cache"},"parameters":["Idle"]},{"type":{"value":"Montre"},"parameters":["Hovered",""]},{"type":{"value":"Cache"},"parameters":["Pressed"]},{"type":{"value":"Tween::RemoveTween"},"parameters":["Hovered","Tween","\"Fadeout\""]},{"type":{"value":"PanelSpriteObject::SetOpacity"},"parameters":["Hovered","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsPressed"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY() + Object.PropertyPressedLabelOffsetY()"]},{"type":{"value":"Cache"},"parameters":["Idle"]},{"type":{"value":"Cache"},"parameters":["Hovered"]},{"type":{"value":"Montre"},"parameters":["Pressed",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsFocused"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]},{"type":{"value":"Cache"},"parameters":["Idle"]},{"type":{"value":"Montre"},"parameters":["Hovered",""]},{"type":{"value":"Cache"},"parameters":["Pressed"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Resize","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Children instances must be resized when the button size change:\n- backgrounds for each state are resized to take the full dimensions of the button\n- the label is put back at the center of the button\n\nThe scale is set back to 1 because it means that the parent instance has the same dimensions as the union of its children instances.","comment2":""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Width()","!=","max(Idle.BoundingBoxRight(), Label.BoundingBoxRight()) - min(Idle.BoundingBoxLeft(), Label.BoundingBoxLeft())"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Height()","!=","max(Idle.BoundingBoxBottom(), Label.BoundingBoxBottom()) - min(Idle.BoundingBoxTop(), Label.BoundingBoxTop())"]}]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Idle","Width","=","Object.Width()"]},{"type":{"value":"ModVarObjet"},"parameters":["Idle","Height","=","Object.Height()"]},{"type":{"value":"PanelSpriteButton::Scale"},"parameters":["Object","=","1"]},{"type":{"value":"PanelSpriteObject::Width"},"parameters":["Background","=","Idle.Variable(Width)"]},{"type":{"value":"PanelSpriteObject::Height"},"parameters":["Background","=","Idle.Variable(Height)"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsIdle"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsClicked"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsHovered"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsFocused"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsPressed"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Change the text of the button label.","fullName":"Label text","functionType":"Action","name":"SetLabelText","sentence":"Change the text of _PARAM0_ to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Label","=","GetArgumentAsString(\"LabelText\")"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"},{"description":"","name":"LabelText","type":"string"}],"objectGroups":[]},{"description":"Return the label text.","fullName":"Label text","functionType":"StringExpression","name":"LabelText","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Label.String()"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Return the label center Y according to the button configuration. This expression is used in doStepPostEvents when the button is pressed or released.","fullName":"","functionType":"Expression","name":"CenterWithPaddingY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Idle.CenterY() + (Object.PropertyTopPadding() - Object.PropertyBottomPadding()) / 2"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Center the label according to the button configuration. This is used in doStepPostEvents when the button is resized.","fullName":"","functionType":"Action","name":"CenterLabel","private":true,"sentence":"Center the label of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["Label","=","Object.PropertyLeftPadding()","=","Object.PropertyTopPadding()"]},{"type":{"value":"TextObject::WrappingWidth"},"parameters":["Label","=","Idle.Width() - Object.PropertyLeftPadding() - Object.PropertyRightPadding()"]},{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCenterX"},"parameters":["Label","=","Background.CenterX() +  (Object.PropertyLeftPadding() - Object.PropertyRightPadding()) / 2"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsPressed"},"parameters":["Object",""]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Label","+","Object.PropertyPressedLabelOffsetY()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"description":"De/activate interactions with the button.","fullName":"De/activate interactions","functionType":"Action","name":"Activate","sentence":"Activate interactions with _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Idle","ButtonFSM","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Idle","ButtonFSM","no"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"},{"description":"Activate","name":"ShouldActivate","type":"yesorno"}],"objectGroups":[]},{"description":"Check if interactions are activated on the button.","fullName":"Interactions activated","functionType":"Condition","name":"IsActivated","sentence":"Interactions on _PARAM0_ are activated","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BehaviorActivated"},"parameters":["Idle","ButtonFSM"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"Label offset on Y axis when pressed","description":"","group":"","extraInformation":[],"hidden":false,"name":"PressedLabelOffsetY"},{"value":"0","type":"Number","label":"Left padding","description":"","group":"Padding","extraInformation":["Label"],"hidden":false,"name":"LeftPadding"},{"value":"0","type":"Number","label":"Right padding","description":"","group":"Padding","extraInformation":["Label"],"hidden":false,"name":"RightPadding"},{"value":"0","type":"Number","label":"Top padding","description":"","group":"Padding","extraInformation":["Label"],"hidden":false,"name":"TopPadding"},{"value":"0","type":"Number","label":"Bottom padding","description":"","group":"Padding","extraInformation":["Label"],"hidden":false,"name":"BottomPadding"},{"value":"0.25","type":"Number","label":"Hovered fade out duration (in seconds)","description":"","group":"","extraInformation":[],"hidden":false,"name":"HoveredFadeOutDuration"}],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"Label","smoothed":true,"tags":"","type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"","characterSize":20.0,"color":{"b":0,"g":0,"r":0}},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Idle","rightMargin":0.0,"tags":"","texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[{"folded":true,"name":"State","type":"string","value":"Idle"}],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"PanelSpriteButton::ButtonFSM","ShouldCheckHovering":true}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Hovered","rightMargin":0.0,"tags":"","texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Pressed","rightMargin":0.0,"tags":"","texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[]}]}]},{"author":"","category":"Advanced","extensionNamespace":"","fullName":"Better Inventory","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWJhZy1wZXJzb25hbCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNiw1VjRBMiwyIDAgMCwwIDE0LDJIMTBBMiwyIDAgMCwwIDgsNFY1QTQsNCAwIDAsMCA0LDlWMjBBMiwyIDAgMCwwIDYsMjJIMThBMiwyIDAgMCwwIDIwLDIwVjlBNCw0IDAgMCwwIDE2LDVNMTAsNEgxNFY1SDEwVjRNMTIsOUwxNCwxMUwxMiwxM0wxMCwxMUwxMiw5TTE4LDE2SDlWMThIOFYxNkg2VjE1SDE4VjE2WiIgLz48L3N2Zz4=","name":"BetterInventory","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/bag-personal.svg","shortDescription":"Add inventory functionality to their games.","version":"1.0.0","description":"This extension provides a way for developers to add inventory functionality to their games. This includea features such as the ability to add and remove items from the inventory, check for the presence or absence of items in the inventory, etc. This also allows for the use of inventory slots, allowing for more complex inventory management","tags":["inventory","slot","bag"],"authorIds":["onPsboRtDkUHNOsx7OPr8R8G1oj2"],"dependencies":[],"eventsFunctions":[{"description":"Create a bag to store items in","fullName":"Create a bag","functionType":"Action","name":"CreateBag","sentence":"Create a bag called _PARAM1_ to store items in with _PARAM2_ slots.","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["GetArgumentAsNumber(\"maxSlot\")",">","0"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"name\")].max","=","GetArgumentAsNumber(\"maxSlot\")"]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;","const bagName = eventsFunctionContext.getArgument(\"name\")","const maxSlot = eventsFunctionContext.getArgument(\"maxSlot\")","","bags[bagName].slots = Array(maxSlot).fill({name:\"0\", quantity:0});","","runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]}],"parameters":[{"description":"Name of the bag","name":"name","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Max number of slots","name":"maxSlot","type":"expression"}],"objectGroups":[]},{"description":"Change a bag's max amount of slots","fullName":"Change a bag's size","functionType":"Action","name":"ChangeBagSize","sentence":"Change the max amount of slots of bag _PARAM1_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;","const bagName = eventsFunctionContext.getArgument(\"bag\");","const maxSlot = eventsFunctionContext.getArgument(\"maxSlot\");","","const lastMaxSlot = bags[bagName].max;","","bags[bagName].slots.length = maxSlot;","bags[bagName].max = maxSlot;","bags[bagName].slots = bags[bagName].slots.fill({name:\"0\", quantity:0}, lastMaxSlot);","","runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Max number of slots","name":"maxSlot","type":"expression"}],"objectGroups":[]},{"description":"Empty all slots in a bag","fullName":"Empty a bag","functionType":"Action","name":"EmptyBag","sentence":"Empty all slots of the bag _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;","const bagName = eventsFunctionContext.getArgument(\"bag\");","","bags[bagName].slots = Array(bags[bagName].max).fill({name:\"0\", quantity:0});","","runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"}],"objectGroups":[]},{"description":"Create item that can be used for items :)","fullName":"Create an item","functionType":"Action","name":"CreateItem","sentence":"Create an item _PARAM1_ with the max slot item quantity of _PARAM2_.","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Items[GetArgumentAsString(\"name\")].max","=","GetArgumentAsNumber(\"maxItem\")"]}]}],"parameters":[{"description":"Name of the item (Must not be \"\" or \"0\" as they are considered as empty)","name":"name","supplementaryInformation":"sceneitem","type":"identifier"},{"description":"Max number of items in one slot","name":"maxItem","type":"expression"}],"objectGroups":[]},{"description":"Replace two slots in two bags","fullName":"Replace two slots","functionType":"Action","name":"ReplaceSlots","sentence":"Replace slot _PARAM2_ of bag _PARAM1_ with slot _PARAM4_ of bag _PARAM3_. (Try adding: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot1\")",">=","0"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot2\")",">=","0"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot1\")","!=","GetArgumentAsNumber(\"slot2\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["function replaceSlot(runtimeScene, bags, items, bag1, slot1, bag2, slot2, tryAdding) {","    // If no bag with the given name exists, log an error message and return.","    if (!bags[bag1] || !bags[bag2]) {","        console.error(\"No such bag exists\");","        return;","    }","    // If tryAdding is true and the slots have the same item, try adding the item in slot1 to slot2","    if (tryAdding && bags[bag1].slots[slot1].name == bags[bag2].slots[slot2].name) {","        // Get the values of the slots","        const slot1Values = bags[bag1].slots[slot1];","        const slot2Values = bags[bag2].slots[slot2];","        // Check if there is enough space in slot2 to add the items in slot1","        if (items[slot2Values.name].max - slot2Values.quantity >= slot1Values.quantity) {","            // If there is, add the items and set the quantity in slot1 to 0","            slot2Values.quantity += slot1Values.quantity;","            slot1Values.quantity = 0;","        }","        else {","            // If there isn't enough space, add as many items as possible and set the remaining items in slot1","            slot1Values.quantity -= items[slot2Values.name].max - slot2Values.quantity;","            slot2Values.quantity = items[slot2Values.name].max;","        }","    }","    else {","        // If tryAdding is false or the slots have different items, swap the items in the slots","        const tempSlot = bags[bag1].slots[slot1];","        bags[bag1].slots[slot1] = bags[bag2].slots[slot2];","        bags[bag2].slots[slot2] = tempSlot;","    }","    // Update the bags in the game's variables","    runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);","}","","// Get the bags and items from the game's variables","let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;","let items = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Items;","const bag1 = eventsFunctionContext.getArgument(\"bag1\");","const bag2 = eventsFunctionContext.getArgument(\"bag2\");","const slot1 = eventsFunctionContext.getArgument(\"slot1\");","const slot2 = eventsFunctionContext.getArgument(\"slot2\");","const tryAdding = eventsFunctionContext.getArgument(\"add\");","","replaceSlot(runtimeScene, bags, items, bag1, slot1, bag2, slot2, tryAdding);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Name of the first bag","name":"bag1","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot of the first bag","name":"slot1","type":"expression"},{"description":"Name of the second bag","name":"bag2","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot of the second bag","name":"slot2","type":"expression"},{"defaultValue":"yes","description":"Try adding the first slot to the second slot if it can be done","name":"add","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Get the item quantity of a slot in a bag","fullName":"Item quantity in a bag","functionType":"Expression","name":"ItemQuantityInBag","sentence":"Checki if _PARAM3_ _PARAM1_ items can fit in bag _PARAM2_ in slot _PARAM4_.","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Number of items in a slot of the bag","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","!=","-1"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<=","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"item\")","=","GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","+","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__BetterInventory.Temp.itemNum)"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Number of items in the bag","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<=","-1"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","=","GetArgumentAsNumber(\"quantity\")"]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.slotNum","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["function itemQuantityInBag(bags, items, bagName, item) {\r","    // Initialize some variables we'll use later in the function\r","    let foundSlot;\r","    let foundSlotIndex;\r","    let quantity = 0;\r","    let done;\r","\r","     //Loop until the loop is explicitly broken by setting `done` to `true`\r","    while (!done) {\r","        // If no bag with the given name exists, log an error message and return.\r","        if (!bags[bagName]) {\r","            console.error(\"No such bag exists\");\r","            break\r","        }\r","        // Make a copy of the bag's slots array and ensure that it has the correct length\r","        const slots = [...bags[bagName].slots];\r","        slots.length = bags[bagName].max\r","\r","        // Find the first slot containing the given item and its index in the slots array.\r","        foundSlotIndex = slots.indexOf(slots.find(i => i.quantity > 0 && i.name === item));\r","        foundSlot = bags[bagName].slots[foundSlotIndex];\r","\r","        // If the item was found in a slot, add its quantity to the total and set its quantity to 0.\r","        if (foundSlotIndex >= 0) {\r","            quantity += foundSlot.quantity;\r","            foundSlot.quantity = 0;\r","        }\r","        // If no suitable slot was found, return the quantity and exit the loop by setting `done` to `true`\r","        else {\r","            done = true;\r","            return quantity;\r","        }\r","    }\r","}\r","\r","// Get the bags and items objects from the game's variables.\r","let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;\r","const bagName = eventsFunctionContext.getArgument(\"bag\")\r","const item = eventsFunctionContext.getArgument(\"item\");\r","let items = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Items;\r","\r","eventsFunctionContext.returnValue = itemQuantityInBag(bags, items, bagName, item);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Name of the item","name":"item","supplementaryInformation":"sceneitem","type":"identifier"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot (-1 for auto)","name":"slot","type":"expression"}],"objectGroups":[]},{"description":"Split items from one slot in one bag to another slot in another bags","fullName":"Move half of the items","functionType":"Action","name":"MoveHalfInSlots","sentence":"Replace slot _PARAM2_ of bag _PARAM1_ with slot _PARAM4_ of bag _PARAM3_. (Try adding: _PARAM5_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot1\")",">=","0"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot2\")",">=","0"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot1\")","!=","GetArgumentAsNumber(\"slot2\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["function replaceSlot(runtimeScene, bags, items, bag1, slot1, bag2, slot2, tryAdding) {","    // If no bag with the given name exists, log an error message and return.","    if (!bags[bag1] || !bags[bag2]) {","        console.error(\"No such bag exists\");","        return;","    }","    // If tryAdding is true and the slots have the same item, try adding the item in slot1 to slot2","    if (tryAdding && bags[bag1].slots[slot1].name == bags[bag2].slots[slot2].name) {","        // Get the values of the slots","        const slot1Values = bags[bag1].slots[slot1];","        const slot2Values = bags[bag2].slots[slot2];","        // Check if there is enough space in slot2 to add the items in slot1","        if (items[slot2Values.name].max - slot2Values.quantity >= slot1Values.quantity) {","            // If there is, add the items and set the quantity in slot1 to 0","            slot2Values.quantity += slot1Values.quantity;","            slot1Values.quantity = 0;","        }","        else {","            // If there isn't enough space, add as many items as possible and set the remaining items in slot1","            slot1Values.quantity -= items[slot2Values.name].max - slot2Values.quantity;","            slot2Values.quantity = items[slot2Values.name].max;","        }","    }","    else {","        // If tryAdding is false or the slots have different items, swap the items in the slots","        const tempSlot = bags[bag1].slots[slot1];","        bags[bag1].slots[slot1] = bags[bag2].slots[slot2];","        bags[bag2].slots[slot2] = tempSlot;","    }","    // Update the bags in the game's variables","    runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);","}","","// Get the bags and items from the game's variables","let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;","let items = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Items;","const bag1 = eventsFunctionContext.getArgument(\"bag1\");","const bag2 = eventsFunctionContext.getArgument(\"bag2\");","const slot1 = eventsFunctionContext.getArgument(\"slot1\");","const slot2 = eventsFunctionContext.getArgument(\"slot2\");","const tryAdding = eventsFunctionContext.getArgument(\"add\");","","replaceSlot(runtimeScene, bags, items, bag1, slot1, bag2, slot2, tryAdding);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Name of the first bag","name":"bag1","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot of the first bag","name":"slot1","type":"expression"},{"description":"Name of the second bag","name":"bag2","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot of the second bag","name":"slot2","type":"expression"},{"defaultValue":"yes","description":"Try adding the first slot to the second slot if it can be done","name":"add","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Get the slot JSON data","fullName":"Slot JSON data","functionType":"StringExpression","name":"SlotJSON","sentence":"Checki if _PARAM3_ _PARAM1_ items can fit in bag _PARAM2_ in slot _PARAM4_.","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["GlobalVarToJSON(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")])"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot","name":"slot","type":"expression"}],"objectGroups":[]},{"description":"Set a slot's data from JSON","fullName":"Set slot from JSON","functionType":"Action","name":"SetSlotFromJSON","sentence":"Set slot _PARAM2_ of bag _PARAM3_ with JSON _PARAM1_. (Try adding: _PARAM4_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.add","True"]},{"type":{"value":"JSONToVariableStructure"},"parameters":["GetArgumentAsString(\"JSON\")","__BetterInventory.Temp.slot1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"add\""]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"add\""]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"StrEqual"},"parameters":["GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)","!=","VariableString(__BetterInventory.Temp.slot1.name)"]},{"type":{"value":"BetterInventory::IsSlotEmpty"},"parameters":["","GetArgumentAsNumber(\"slot\")","GetArgumentAsString(\"bag\")",""]}]}]}]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.add","False"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","VariableString(__BetterInventory.Temp.slot1.name)"]},{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","=","Variable(__BetterInventory.Temp.slot1.quantity)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.add","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Variable(__BetterInventory.Temp.slot1.quantity)",">=","GlobalVariable(__BetterInventory.Items[GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)].max)-GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","=","GlobalVariable(__BetterInventory.Items[GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)].max)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Variable(__BetterInventory.Temp.slot1.quantity)","<","GlobalVariable(__BetterInventory.Items[GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)].max)-GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","+","Variable(__BetterInventory.Temp.slot1.quantity)"]}]}]}],"parameters":[{"description":"JSON data of slot","name":"JSON","type":"string"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot","name":"slot","type":"expression"},{"defaultValue":"yes","description":"Try adding the slot(JSON data) quantity to the slot if it can be done","name":"add","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Get the bag JSON data","fullName":"Bag JSON data","functionType":"StringExpression","name":"BagJSON","sentence":"Checki if _PARAM3_ _PARAM1_ items can fit in bag _PARAM2_ in slot _PARAM4_.","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;","const bagName = eventsFunctionContext.getArgument(\"bag\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"}],"objectGroups":[]},{"description":"Bag's max amount of slots","fullName":"Bag size","functionType":"Expression","name":"BagSize","sentence":"Checki if _PARAM3_ _PARAM1_ items can fit in bag _PARAM2_ in slot _PARAM4_.","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"}],"objectGroups":[]},{"description":"Get the JSON data of the list of bags (with all the slots)","fullName":"Bag list JSON data","functionType":"StringExpression","name":"BagListJSON","sentence":"Checki if _PARAM3_ _PARAM1_ items can fit in bag _PARAM2_ in slot _PARAM4_.","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["GlobalVarToJSON(__BetterInventory.Bags)"]}]}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]},{"description":"Check if a number of items fit in a bag","fullName":"Item fits","functionType":"Condition","name":"ItemFits","sentence":"Checki if _PARAM3_ _PARAM1_ items can fit in bag _PARAM2_ in slot _PARAM4_.","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check if items fit in a slot in the bag","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","!=","-1"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","=","GetArgumentAsNumber(\"quantity\")"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"item\")","=","GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity",">","GetArgumentAsNumber(\"quantity\")"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","-","GetArgumentAsNumber(\"quantity\")"]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","-","GetArgumentAsNumber(\"quantity\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","<=","GetArgumentAsNumber(\"quantity\")"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","-","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check if items fit in the bag","source":"","type":"BuiltinCommonInstructions::Group","events":[{"disabled":true,"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<=","-1"]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.found",""]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","=","GetArgumentAsNumber(\"quantity\")"]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.slotNum","=","0"]}],"events":[{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max",">","Variable(__BetterInventory.Temp.slotNum)"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.found","False"]}],"conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].name","=","GetArgumentAsString(\"item\")"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity",">","Variable(__BetterInventory.Temp.itemNum)"]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.found","True"]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","-","Variable(__BetterInventory.Temp.itemNum)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity","<=","Variable(__BetterInventory.Temp.itemNum)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","-","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.slotNum","+","1"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<=","-1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;\r","const bagName = eventsFunctionContext.getArgument(\"bag\")\r","const item = eventsFunctionContext.getArgument(\"item\");\r","let quantity = eventsFunctionContext.getArgument(\"quantity\");\r","let items = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Items;\r","let foundSlot;\r","let foundSlotIndex;\r","let result = true;\r","\r","while (quantity > 0) {\r","    if (!bags[bagName]) {\r","        console.error(\"No such bag exists\")\r","        break\r","    }\r","    const slots = Object.assign([], bags[bagName].slots);\r","    slots.length = bags[bagName].max\r","\r","    foundSlotIndex = slots.indexOf(slots.find(i => items[item].max - i.quantity > 0 && i.quantity > 0 && i.name === item));\r","    foundSlot = bags[bagName].slots[foundSlotIndex];\r","    if (foundSlotIndex < 0) {\r","        foundSlotIndex = slots.indexOf(slots.find(i => i.quantity == false))\r","        foundSlot = bags[bagName].slots[foundSlotIndex];\r","    }\r","    if (foundSlotIndex >= 0) {\r","        if (items[item].max - foundSlot.quantity >= quantity) {\r","            foundSlot.quantity += quantity;\r","            quantity = 0;\r","        } else {\r","            quantity -= items[item].max - foundSlot.quantity;\r","            foundSlot.quantity = items[item].max;\r","        };\r","        foundSlot.name = item;\r","    } else {\r","        runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"temp\").getChild(\"itemNum\").setNumber(quantity);\r","        quantity = 0\r","        result = false\r","    };\r","}\r","eventsFunctionContext.returnValue = result;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__BetterInventory.Temp.itemNum",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__BetterInventory.Temp.itemNum","<=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Name of the item","name":"item","supplementaryInformation":"sceneitem","type":"identifier"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Number of items to be added","name":"quantity","type":"expression"},{"description":"Slot (-1 for auto)","name":"slot","type":"expression"}],"objectGroups":[]},{"description":"Remove an item from an bag","fullName":"Remove an item","functionType":"Action","name":"RemoveItem","sentence":"Remove _PARAM3_ _PARAM1_ items from bag _PARAM2_ in slot _PARAM4_. (Ignore item name: _PARAM5_)","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Remove items from a slot in the bag","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","!=","-1"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max)"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"item\")","=","GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)"]},{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ignoreName\""]}]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","<=","GetArgumentAsNumber(\"quantity\")"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","=","0"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","\"0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity",">","GetArgumentAsNumber(\"quantity\")"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","-","GetArgumentAsNumber(\"quantity\")"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Remove items from the bag automatically","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<=","-1"]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.found",""]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","=","GetArgumentAsNumber(\"quantity\")"]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.slotNum","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;\r","const bagName = eventsFunctionContext.getArgument(\"bag\");\r","const item = eventsFunctionContext.getArgument(\"item\");\r","let quantity = eventsFunctionContext.getArgument(\"quantity\");\r","while (quantity > 0) {\r","    const slots = Object.values(bags[bagName].slots);\r","    let foundSlot = bags[bagName].slots[slots.lastIndexOf(slots.findLast(i => i.quantity != 0 && i.name === item))];\r","    if (foundSlot) {\r","        if (foundSlot.quantity >= quantity) {\r","            foundSlot.quantity -= quantity;\r","            quantity = 0;\r","        } else {\r","            quantity -= foundSlot.quantity;\r","            foundSlot.quantity = 0;\r","        };\r","    }else{\r","        quantity = 0;\r","    }\r","};\r","\r","\r","runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"disabled":true,"folded":true,"name":"Don't use","source":"","type":"BuiltinCommonInstructions::Group","events":[{"disabled":true,"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max",">=","Variable(__BetterInventory.Temp.slotNum)"]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max","<=","-1"]},{"type":{"value":"VarScene"},"parameters":["__BetterInventory.Temp.slotNum","<=","GlobalVariableChildCount(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots)"]}]}]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.found","False"]}],"conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].name","=","GetArgumentAsString(\"item\")"]},{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ignoreName\""]}]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity","<=","Variable(__BetterInventory.Temp.itemNum)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","-","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity)"]},{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity","=","0"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].name","=","\"0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity",">","Variable(__BetterInventory.Temp.itemNum)"]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.found","True"]},{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[Variable(__BetterInventory.Temp.slotNum)].quantity","-","Variable(__BetterInventory.Temp.itemNum)"]},{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.itemNum","-","Variable(__BetterInventory.Temp.itemNum)"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__BetterInventory.Temp.slotNum","+","1"]}]}]}],"parameters":[]}]}],"parameters":[]}],"parameters":[{"description":"Name of the item","name":"item","supplementaryInformation":"sceneitem","type":"identifier"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Number of items to be removed","name":"quantity","type":"expression"},{"description":"Slot (-1 for auto)","name":"slot","type":"expression"},{"description":"Ignore the name of the object while removing items","name":"ignoreName","type":"yesorno"}],"objectGroups":[]},{"description":"Empty a slot in a bag","fullName":"Empty a slot","functionType":"Action","name":"EmptySlot","sentence":"Empty slot _PARAM2_ of the bag _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")",">","-1"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","=","0"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","\"0\""]}]}],"parameters":[{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Slot","name":"slot","type":"expression"}],"objectGroups":[]},{"description":"Add an item to an bag","fullName":"Add an item","functionType":"Action","name":"AddItem","sentence":"Add _PARAM3_ _PARAM1_ items to bag _PARAM2_ in slot _PARAM4_. (Extra bag: _PARAM5_)","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Add items to a slot in the bag","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","!=","-1"]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<","GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].max)"]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"item\")","=","GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Items[GetArgumentAsString(\"item\")].max","<","GetArgumentAsNumber(\"quantity\") + GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","=","GlobalVariable(__BetterInventory.Items[GetArgumentAsString(\"item\")].max)"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","GetArgumentAsString(\"item\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Items[GetArgumentAsString(\"item\")].max",">=","GetArgumentAsNumber(\"quantity\") + GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","+","GetArgumentAsNumber(\"quantity\")"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","GetArgumentAsString(\"item\")"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"item\")","!=","GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","=","GetArgumentAsNumber(\"quantity\")"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","GetArgumentAsString(\"item\")"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Add items to the bag automatically","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"slot\")","<=","-1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["function addItemToBag(runtimeScene, bags, items, bagName, item, infinite, quantity) {\r","  // Initialize some variables we'll use later in the function\r","  let foundSlot;\r","  let foundSlotIndex;\r","  let done = false;\r","\r","  // Loop as long as there are items left to add to the bag\r","  // or until the loop is explicitly broken by setting `done` to `true`\r","  while (quantity > 0 && !done) {\r","    // If no bag with the given name exists, log an error message and return, unless it is supposed to be a bag with infinite slots\r","    if (!bags[bagName]) {\r","      if (infinite) {\r","        bags[bagName] = {};\r","        bags[bagName].slots = [{ name: \"0\", quantity: 0 }];\r","        bags[bagName].max = 1\r","      }\r","      else{\r","        console.error(\"No such bag exists\")\r","        break\r","      }\r","    }\r","    // Make a copy of the bag's slots array and ensure that it has the correct length\r","    const slots = [...bags[bagName].slots];\r","    slots.length = bags[bagName].max\r","\r","    // Find the first slot in the bag that has room for more of the given item\r","    // and that already contains at least one of the given item\r","    foundSlotIndex = slots.indexOf(slots.find(i => items[item].max - i.quantity > 0 && i.quantity > 0 && i.name === item));\r","    foundSlot = bags[bagName].slots[foundSlotIndex];\r","\r","    // If no such slot was found, find the first empty slot in the bag instead\r","    if (foundSlotIndex < 0) {\r","      foundSlotIndex = slots.indexOf(slots.find(i => i.quantity == false))\r","      foundSlot = bags[bagName].slots[foundSlotIndex];\r","    }\r","\r","    // If a suitable slot was found, add as many items as possible to it\r","    if (foundSlotIndex >= 0) {\r","      if (items[item].max - foundSlot.quantity >= quantity) {\r","        foundSlot.quantity += quantity;\r","        quantity = 0;\r","      } else {\r","        quantity -= items[item].max - foundSlot.quantity;\r","        foundSlot.quantity = items[item].max;\r","      };\r","      foundSlot.name = item;\r","    }\r","\r","    // If no suitable slot was found, set a variable with the remaining quantity\r","    // and exit the loop by setting `done` to `true` unless it is supposed to be a bag with infinite slots\r","    else if (infinite) {\r","      const lastMaxSlot = bags[bagName].max;\r","\r","      bags[bagName].slots.length += 1;\r","      bags[bagName].max += 1;\r","      bags[bagName].slots = bags[bagName].slots.fill({ name: \"0\", quantity: 0 }, lastMaxSlot);\r","    }\r","    else {\r","      done = true;\r","    }\r","  }\r","\r","  // Update the bags in the game's variables\r","  runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").fromJSObject(bags);\r","  \r","  return quantity\r","}\r","\r","// Get the bags and items from the game's variables\r","let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;\r","let items = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Items;\r","\r","const bagName = eventsFunctionContext.getArgument(\"bag\")\r","const extraBagName = eventsFunctionContext.getArgument(\"extraBag\");\r","const item = eventsFunctionContext.getArgument(\"item\");\r","let quantity = eventsFunctionContext.getArgument(\"quantity\")\r","const infinite = eventsFunctionContext.getArgument(\"infinite\");\r","\r","// Add the item to the bag, passing in the result of adding the item to the extra bag as the quantity\r","addItemToBag(runtimeScene, bags, items, extraBagName, item, true, addItemToBag(runtimeScene, bags, items, bagName, item, infinite, quantity));"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[]}],"parameters":[{"description":"Name of the item","name":"item","supplementaryInformation":"sceneitem","type":"identifier"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Number of items","name":"quantity","type":"expression"},{"description":"Slot (-1 for auto)","name":"slot","type":"expression"},{"description":"Name of an extra bag (will be created if it doesn't exist)","longDescription":"A bag to store all the items that couldn't be added to the specified bag","name":"extraBag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Add more slots if not enough space?","name":"infinite","type":"yesorno"}],"objectGroups":[]},{"description":"Add the items if a bag to another bag","fullName":"Add items of a bag","functionType":"Action","name":"Addbag","sentence":"Add items of bag _PARAM1_ to bag _PARAM2_.","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["function addItemToBag(runtimeScene, bags, items, bagName, item, infinite, quantity) {\r","  // Initialize some variables we'll use later in the function\r","  let foundSlot;\r","  let foundSlotIndex;\r","  let done = false;\r","\r","  // Loop as long as there are items left to add to the bag\r","  // or until the loop is explicitly broken by setting `done` to `true`\r","  while (quantity > 0 && !done) {\r","    // If no bag with the given name exists, log an error message and return, unless it is supposed to be a bag with infinite slots\r","    if (!bags[bagName]) {\r","      if (infinite) {\r","        bags[bagName] = {};\r","        bags[bagName].slots = [{ name: \"0\", quantity: 0 }];\r","        bags[bagName].max = 1\r","      }\r","      else {\r","        console.error(\"No such bag exists, can't add to it\")\r","        break\r","      }\r","    }\r","    // Make a copy of the bag's slots array and ensure that it has the correct length\r","    const slots = [...bags[bagName].slots];\r","    slots.length = bags[bagName].max\r","\r","    // Find the first slot in the bag that has room for more of the given item\r","    // and that already contains at least one of the given item\r","    foundSlotIndex = slots.indexOf(slots.find(i => items[item].max - i.quantity > 0 && i.quantity > 0 && i.name === item));\r","    foundSlot = bags[bagName].slots[foundSlotIndex];\r","\r","    // If no such slot was found, find the first empty slot in the bag instead\r","    if (foundSlotIndex < 0) {\r","      foundSlotIndex = slots.indexOf(slots.find(i => i.quantity == false))\r","      foundSlot = bags[bagName].slots[foundSlotIndex];\r","    }\r","\r","    // If a suitable slot was found, add as many items as possible to it\r","    if (foundSlotIndex >= 0) {\r","      if (items[item].max - foundSlot.quantity >= quantity) {\r","        foundSlot.quantity += quantity;\r","        quantity = 0;\r","      } else {\r","        quantity -= items[item].max - foundSlot.quantity;\r","        foundSlot.quantity = items[item].max;\r","      };\r","      foundSlot.name = item;\r","    }\r","\r","    // If no suitable slot was found, set a variable with the remaining quantity\r","    // and exit the loop by setting `done` to `true` unless it is supposed to be a bag with infinite slots\r","    else if (infinite) {\r","      const lastMaxSlot = bags[bagName].max;\r","\r","      bags[bagName].slots.length += 1;\r","      bags[bagName].max += 1;\r","      bags[bagName].slots = bags[bagName].slots.fill({ name: \"0\", quantity: 0 }, lastMaxSlot);\r","    }\r","    else {\r","      done = true;\r","    }\r","  }\r","\r","  // Update the bags in the game's variables\r","  runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").getChild(bagName).fromJSObject(bags[bagName])\r","  return quantity;\r","}\r","\r","function addBagToBag(runtimeScene, bagss, items, bagToAddName, targetBagName, infinite) {\r","\r","  if (!bagss[bagToAddName]) {\r","    console.error(\"No such bag exists, no items can be added to the target bag\")\r","    return\r","  }\r","\r","  const bagSlots = [...bagss[bagToAddName].slots];\r","  bagSlots.length = bagss[bagToAddName].max;\r","  let foundSlotIndexBag = bagSlots.indexOf(bagSlots.find(i => i.quantity > 0));\r","  let foundSlotBag = bagss[bagToAddName].slots[foundSlotIndexBag];\r","  while (foundSlotIndexBag > -1) {\r","    const leftQuantity = addItemToBag(runtimeScene, bagss, items, targetBagName, foundSlotBag.name, infinite, foundSlotBag.quantity);\r","\r","\r","    bags[bagToAddName].slots[foundSlotIndexBag].quantity -= foundSlotBag.quantity - leftQuantity;\r","\r","    foundSlotIndexBag = bagSlots.indexOf(bagSlots.slice(foundSlotIndexBag + 1).find(i => i.quantity > 0), foundSlotIndexBag + 1);\r","    foundSlotBag = bagss[bagToAddName].slots[foundSlotIndexBag]\r","    if (leftQuantity > 0) {\r","      break\r","    }\r","  }\r","\r","  // Update the bag to add in the game's variables\r","  runtimeScene.getGame().getVariables().get(\"__BetterInventory\").getChild(\"Bags\").getChild(bagToAddName).fromJSObject(bags[bagToAddName]);\r","}\r","\r","// Get the bags and items from the game's variables\r","let bags = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Bags;\r","console.log(bags)\r","let items = runtimeScene.getGame().getVariables().get(\"__BetterInventory\").toJSObject().Items;\r","\r","const bagToAddName = eventsFunctionContext.getArgument(\"bagToAdd\")\r","const targetBagName = eventsFunctionContext.getArgument(\"targetBag\");\r","const infinite = eventsFunctionContext.getArgument(\"infinite\");\r","\r","\r","addBagToBag(runtimeScene, bags, items, bagToAddName, targetBagName, infinite)"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Name of the bag to add","name":"bagToAdd","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Name of the target bag","name":"targetBag","supplementaryInformation":"scenebag","type":"identifier"},{"description":"Add more slots if not enough space?","name":"infinite","type":"yesorno"}],"objectGroups":[]},{"description":"Check if a slot is empty in a bag","fullName":"Slot is empty","functionType":"Condition","name":"IsSlotEmpty","sentence":"Check if slot _PARAM1_ is empty in bag _PARAM2_.","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.emptySlot","False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarGlobal"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity","<=","0"]},{"type":{"value":"VarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","\"\""]},{"type":{"value":"VarGlobalTxt"},"parameters":["__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name","=","\"0\""]}]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.emptySlot","True"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SceneVariableAsBoolean"},"parameters":["__BetterInventory.Temp.emptySlot",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]}],"parameters":[{"description":"Slot","name":"slot","type":"expression"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"}],"objectGroups":[]},{"description":"Get the quantity of an item in a slot","fullName":"Item quantity","functionType":"Expression","name":"ItemQuantity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["GlobalVariable(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].quantity)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Slot","name":"slot","type":"expression"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"}],"objectGroups":[]},{"description":"Get the name of an item in a slot","fullName":"Item name","functionType":"StringExpression","name":"ItemName","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["GlobalVariableString(__BetterInventory.Bags[GetArgumentAsString(\"bag\")].slots[GetArgumentAsNumber(\"slot\")].name)"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Slot","name":"slot","type":"expression"},{"description":"Name of the bag","name":"bag","supplementaryInformation":"scenebag","type":"identifier"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]}],"externalLayouts":[],"externalSourceFiles":[]}